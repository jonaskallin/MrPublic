# This file was automatically generated, don't change it manually!
# You can regenerate this file by running:
# mvn package -pl :fuse-app -am -DskipTests -DskipFrontend
groups:
  - name: fuse-alerts-5s
    interval: 5s
    rules:
      - alert: __heartbeat_missing
        expr: "(((max by (systemId, envId) (otcs_heartbeat_up) or (0 * max by (systemId, envId) (fuse_system_active != 0)))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"heartbeat_missing\"})\n  or (\n    ((max by (systemId, envId) (otcs_heartbeat_up) or (0 * max by (systemId, envId) (fuse_system_active != 0)))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"heartbeat_missing\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"heartbeat_missing\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: heartbeat_missing
        expr: "((((max by (systemId, envId) (otcs_heartbeat_up) or (0 * max by (systemId, envId) (fuse_system_active != 0)))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"heartbeat_missing\"})\n  or (\n    ((max by (systemId, envId) (otcs_heartbeat_up) or (0 * max by (systemId, envId) (fuse_system_active != 0)))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"heartbeat_missing\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"heartbeat_missing\",severity=\"warning\"}))) and (                        (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__heartbeat_missing\",severity=\"warning\"}) unless on (systemId) min by(systemId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or \n(min by(systemId) (fuse_maintenance_window_start_time{systemId!=\"\"}) - on(systemId) group_right min without(alertname, severity) (ALERTS_FOR_STATE{alertname=\"__heartbeat_missing\",severity=\"warning\"}))) >= scalar(min(fuse_alert_for{alertname=\"heartbeat_missing\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__heartbeat_missing\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='heartbeat_missing',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='heartbeat_missing',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Is Offline
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='heartbeat_missing',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='heartbeat_missing',severity='warning'})\" | first | value) -}}Heartbeat status is unavailable{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
      - alert: __heartbeat_missing
        expr: "(((max by (systemId, envId) (otcs_heartbeat_up) or (0 * max by (systemId, envId) (fuse_system_active != 0)))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"heartbeat_missing\"})\n  or (\n    ((max by (systemId, envId) (otcs_heartbeat_up) or (0 * max by (systemId, envId) (fuse_system_active != 0)))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"heartbeat_missing\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"heartbeat_missing\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: heartbeat_missing
        expr: "((((max by (systemId, envId) (otcs_heartbeat_up) or (0 * max by (systemId, envId) (fuse_system_active != 0)))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"heartbeat_missing\"})\n  or (\n    ((max by (systemId, envId) (otcs_heartbeat_up) or (0 * max by (systemId, envId) (fuse_system_active != 0)))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"heartbeat_missing\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"heartbeat_missing\",severity=\"error\"}))) and (                        (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__heartbeat_missing\",severity=\"error\"}) unless on (systemId) min by(systemId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or \n(min by(systemId) (fuse_maintenance_window_start_time{systemId!=\"\"}) - on(systemId) group_right min without(alertname, severity) (ALERTS_FOR_STATE{alertname=\"__heartbeat_missing\",severity=\"error\"}))) >= scalar(min(fuse_alert_for{alertname=\"heartbeat_missing\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__heartbeat_missing\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='heartbeat_missing',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='heartbeat_missing',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Is Offline
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='heartbeat_missing',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='heartbeat_missing',severity='error'})\" | first | value) -}}Heartbeat status is unavailable{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
      - alert: __cside_mode_on
        expr: "((max by (systemId, envId) (otcs_heartbeat_cside_mode)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"cside_mode_on\"})\n  or (\n    (max by (systemId, envId) (otcs_heartbeat_cside_mode)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"cside_mode_on\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"cside_mode_on\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: cside_mode_on
        expr: "(((max by (systemId, envId) (otcs_heartbeat_cside_mode)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"cside_mode_on\"})\n  or (\n    (max by (systemId, envId) (otcs_heartbeat_cside_mode)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"cside_mode_on\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"cside_mode_on\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__cside_mode_on\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"cside_mode_on\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__cside_mode_on\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='cside_mode_on',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='cside_mode_on',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: CSIDE Mode
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='cside_mode_on',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='cside_mode_on',severity='warning'})\" | first | value) -}}System is running in CSIDE mode (debug)"
      - alert: __cside_mode_on
        expr: "((max by (systemId, envId) (otcs_heartbeat_cside_mode)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"cside_mode_on\"})\n  or (\n    (max by (systemId, envId) (otcs_heartbeat_cside_mode)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"cside_mode_on\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"cside_mode_on\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: cside_mode_on
        expr: "(((max by (systemId, envId) (otcs_heartbeat_cside_mode)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"cside_mode_on\"})\n  or (\n    (max by (systemId, envId) (otcs_heartbeat_cside_mode)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"cside_mode_on\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"cside_mode_on\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__cside_mode_on\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"cside_mode_on\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__cside_mode_on\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='cside_mode_on',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='cside_mode_on',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: CSIDE Mode
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='cside_mode_on',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='cside_mode_on',severity='error'})\" | first | value) -}}System is running in CSIDE mode (debug)"
      - alert: __app_disk_space_low
        expr: "(                        (max by (systemId, envId, componentId, componentName, componentClass) (otcs_resource_disk_space_used{appDisk=\"true\"} / otcs_resource_disk_space_total{appDisk=\"true\"})\n) unless ignoring (metricsEntity) (\n                          max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"app_disk_space_low\"})\n                          or (\n                            (max by (systemId, envId, componentId, componentName, componentClass) (otcs_resource_disk_space_used{appDisk=\"true\"} / otcs_resource_disk_space_total{appDisk=\"true\"})\n) * 0 + \n                            ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n                            (fuse_alert_dismiss{alertname=\"app_disk_space_low\",systemId=\"\"})\n                          )\n                        )) >= scalar(min(fuse_alert_threshold{alertname=\"app_disk_space_low\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: app_disk_space_low
        expr: "((                        (max by (systemId, envId, componentId, componentName, componentClass) (otcs_resource_disk_space_used{appDisk=\"true\"} / otcs_resource_disk_space_total{appDisk=\"true\"})\n) unless ignoring (metricsEntity) (\n                          max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"app_disk_space_low\"})\n                          or (\n                            (max by (systemId, envId, componentId, componentName, componentClass) (otcs_resource_disk_space_used{appDisk=\"true\"} / otcs_resource_disk_space_total{appDisk=\"true\"})\n) * 0 + \n                            ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n                            (fuse_alert_dismiss{alertname=\"app_disk_space_low\",systemId=\"\"})\n                          )\n                        )) >= scalar(min(fuse_alert_threshold{alertname=\"app_disk_space_low\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__app_disk_space_low\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"app_disk_space_low\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__app_disk_space_low\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: systemdisks
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "false"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='app_disk_space_low',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='app_disk_space_low',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Application Disk Usage
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='app_disk_space_low',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='app_disk_space_low',severity='warning'})\" | first | value) -}}Application disk \"{{ $labels.componentName }}\" usage is above {{ $threshold | humanizePercentage }}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='systemdisks',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __app_disk_space_low
        expr: "(                        (max by (systemId, envId, componentId, componentName, componentClass) (otcs_resource_disk_space_used{appDisk=\"true\"} / otcs_resource_disk_space_total{appDisk=\"true\"})\n) unless ignoring (metricsEntity) (\n                          max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"app_disk_space_low\"})\n                          or (\n                            (max by (systemId, envId, componentId, componentName, componentClass) (otcs_resource_disk_space_used{appDisk=\"true\"} / otcs_resource_disk_space_total{appDisk=\"true\"})\n) * 0 + \n                            ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n                            (fuse_alert_dismiss{alertname=\"app_disk_space_low\",systemId=\"\"})\n                          )\n                        )) >= scalar(min(fuse_alert_threshold{alertname=\"app_disk_space_low\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: app_disk_space_low
        expr: "((                        (max by (systemId, envId, componentId, componentName, componentClass) (otcs_resource_disk_space_used{appDisk=\"true\"} / otcs_resource_disk_space_total{appDisk=\"true\"})\n) unless ignoring (metricsEntity) (\n                          max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"app_disk_space_low\"})\n                          or (\n                            (max by (systemId, envId, componentId, componentName, componentClass) (otcs_resource_disk_space_used{appDisk=\"true\"} / otcs_resource_disk_space_total{appDisk=\"true\"})\n) * 0 + \n                            ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n                            (fuse_alert_dismiss{alertname=\"app_disk_space_low\",systemId=\"\"})\n                          )\n                        )) >= scalar(min(fuse_alert_threshold{alertname=\"app_disk_space_low\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__app_disk_space_low\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"app_disk_space_low\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__app_disk_space_low\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: systemdisks
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "false"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='app_disk_space_low',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='app_disk_space_low',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Application Disk Usage
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='app_disk_space_low',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='app_disk_space_low',severity='error'})\" | first | value) -}}Application disk \"{{ $labels.componentName }}\" usage is above {{ $threshold | humanizePercentage }}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='systemdisks',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __noapp_disk_space_low
        expr: "(                        (max by (systemId, envId, componentId, componentName, componentClass) (otcs_resource_disk_space_used{appDisk=\"false\"} / otcs_resource_disk_space_total{appDisk=\"false\"})\n) unless ignoring (metricsEntity) (\n                          max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"noapp_disk_space_low\"})\n                          or (\n                            (max by (systemId, envId, componentId, componentName, componentClass) (otcs_resource_disk_space_used{appDisk=\"false\"} / otcs_resource_disk_space_total{appDisk=\"false\"})\n) * 0 + \n                            ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n                            (fuse_alert_dismiss{alertname=\"noapp_disk_space_low\",systemId=\"\"})\n                          )\n                        )) >= scalar(min(fuse_alert_threshold{alertname=\"noapp_disk_space_low\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: noapp_disk_space_low
        expr: "((                        (max by (systemId, envId, componentId, componentName, componentClass) (otcs_resource_disk_space_used{appDisk=\"false\"} / otcs_resource_disk_space_total{appDisk=\"false\"})\n) unless ignoring (metricsEntity) (\n                          max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"noapp_disk_space_low\"})\n                          or (\n                            (max by (systemId, envId, componentId, componentName, componentClass) (otcs_resource_disk_space_used{appDisk=\"false\"} / otcs_resource_disk_space_total{appDisk=\"false\"})\n) * 0 + \n                            ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n                            (fuse_alert_dismiss{alertname=\"noapp_disk_space_low\",systemId=\"\"})\n                          )\n                        )) >= scalar(min(fuse_alert_threshold{alertname=\"noapp_disk_space_low\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__noapp_disk_space_low\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"noapp_disk_space_low\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__noapp_disk_space_low\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: systemdisks
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "false"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='noapp_disk_space_low',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='noapp_disk_space_low',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Disk Usage
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='noapp_disk_space_low',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='noapp_disk_space_low',severity='warning'})\" | first | value) -}}Disk \"{{ $labels.componentName }}\" usage is above {{ $threshold | humanizePercentage }}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='systemdisks',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __noapp_disk_space_low
        expr: "(                        (max by (systemId, envId, componentId, componentName, componentClass) (otcs_resource_disk_space_used{appDisk=\"false\"} / otcs_resource_disk_space_total{appDisk=\"false\"})\n) unless ignoring (metricsEntity) (\n                          max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"noapp_disk_space_low\"})\n                          or (\n                            (max by (systemId, envId, componentId, componentName, componentClass) (otcs_resource_disk_space_used{appDisk=\"false\"} / otcs_resource_disk_space_total{appDisk=\"false\"})\n) * 0 + \n                            ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n                            (fuse_alert_dismiss{alertname=\"noapp_disk_space_low\",systemId=\"\"})\n                          )\n                        )) >= scalar(min(fuse_alert_threshold{alertname=\"noapp_disk_space_low\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: noapp_disk_space_low
        expr: "((                        (max by (systemId, envId, componentId, componentName, componentClass) (otcs_resource_disk_space_used{appDisk=\"false\"} / otcs_resource_disk_space_total{appDisk=\"false\"})\n) unless ignoring (metricsEntity) (\n                          max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"noapp_disk_space_low\"})\n                          or (\n                            (max by (systemId, envId, componentId, componentName, componentClass) (otcs_resource_disk_space_used{appDisk=\"false\"} / otcs_resource_disk_space_total{appDisk=\"false\"})\n) * 0 + \n                            ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n                            (fuse_alert_dismiss{alertname=\"noapp_disk_space_low\",systemId=\"\"})\n                          )\n                        )) >= scalar(min(fuse_alert_threshold{alertname=\"noapp_disk_space_low\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__noapp_disk_space_low\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"noapp_disk_space_low\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__noapp_disk_space_low\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: systemdisks
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "false"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='noapp_disk_space_low',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='noapp_disk_space_low',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Disk Usage
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='noapp_disk_space_low',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='noapp_disk_space_low',severity='error'})\" | first | value) -}}Disk \"{{ $labels.componentName }}\" usage is above {{ $threshold | humanizePercentage }}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='systemdisks',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __thread_exceptions
        expr: "((sum by (systemId, envId) (otcs_thread_exceptions_total)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_exceptions\"})\n  or (\n    (sum by (systemId, envId) (otcs_thread_exceptions_total)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_exceptions\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_exceptions\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: thread_exceptions
        expr: "(((sum by (systemId, envId) (otcs_thread_exceptions_total)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_exceptions\"})\n  or (\n    (sum by (systemId, envId) (otcs_thread_exceptions_total)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_exceptions\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_exceptions\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__thread_exceptions\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"thread_exceptions\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__thread_exceptions\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: threadstatus
          componentType: THREADS
        annotations:
          componentType: THREADS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='thread_exceptions',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='thread_exceptions',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Thread Exceptions
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='thread_exceptions',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='thread_exceptions',severity='warning'})\" | first | value) -}}Threads are generating exceptions"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='threadstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __thread_exceptions
        expr: "((sum by (systemId, envId) (otcs_thread_exceptions_total)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_exceptions\"})\n  or (\n    (sum by (systemId, envId) (otcs_thread_exceptions_total)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_exceptions\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_exceptions\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: thread_exceptions
        expr: "(((sum by (systemId, envId) (otcs_thread_exceptions_total)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_exceptions\"})\n  or (\n    (sum by (systemId, envId) (otcs_thread_exceptions_total)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_exceptions\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_exceptions\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__thread_exceptions\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"thread_exceptions\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__thread_exceptions\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: threadstatus
          componentType: THREADS
        annotations:
          componentType: THREADS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='thread_exceptions',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='thread_exceptions',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Thread Exceptions
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='thread_exceptions',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='thread_exceptions',severity='error'})\" | first | value) -}}Threads are generating exceptions"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='threadstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __thread_current_execution_time_high
        expr: "((max by (systemId, envId, componentId, componentName, componentClass) (otcs_thread_request_execution_time_current)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_current_execution_time_high\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otcs_thread_request_execution_time_current)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_current_execution_time_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_current_execution_time_high\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: thread_current_execution_time_high
        expr: "(((max by (systemId, envId, componentId, componentName, componentClass) (otcs_thread_request_execution_time_current)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_current_execution_time_high\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otcs_thread_request_execution_time_current)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_current_execution_time_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_current_execution_time_high\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__thread_current_execution_time_high\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"thread_current_execution_time_high\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__thread_current_execution_time_high\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: threadstatus
          componentType: THREADS
        annotations:
          componentType: THREADS
          below: "false"
          units: SECONDS
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='thread_current_execution_time_high',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='thread_current_execution_time_high',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Thread \"{{ $labels.componentName }}\" request execution"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='thread_current_execution_time_high',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='thread_current_execution_time_high',severity='warning'})\" | first | value) -}}Thread \"{{ $labels.componentName }}\" current execution time is above {{ $threshold }}s{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='threadstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __thread_current_execution_time_high
        expr: "((max by (systemId, envId, componentId, componentName, componentClass) (otcs_thread_request_execution_time_current)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_current_execution_time_high\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otcs_thread_request_execution_time_current)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_current_execution_time_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_current_execution_time_high\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: thread_current_execution_time_high
        expr: "(((max by (systemId, envId, componentId, componentName, componentClass) (otcs_thread_request_execution_time_current)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_current_execution_time_high\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otcs_thread_request_execution_time_current)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_current_execution_time_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_current_execution_time_high\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__thread_current_execution_time_high\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"thread_current_execution_time_high\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__thread_current_execution_time_high\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: threadstatus
          componentType: THREADS
        annotations:
          componentType: THREADS
          below: "false"
          units: SECONDS
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='thread_current_execution_time_high',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='thread_current_execution_time_high',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Thread \"{{ $labels.componentName }}\" request execution"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='thread_current_execution_time_high',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='thread_current_execution_time_high',severity='error'})\" | first | value) -}}Thread \"{{ $labels.componentName }}\" current execution time is above {{ $threshold }}s{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='threadstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __trace_files
        expr: "((max by (systemId, envId) (otcs_resource_trace_files_total)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"trace_files\"})\n  or (\n    (max by (systemId, envId) (otcs_resource_trace_files_total)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"trace_files\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"trace_files\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: trace_files
        expr: "(((max by (systemId, envId) (otcs_resource_trace_files_total)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"trace_files\"})\n  or (\n    (max by (systemId, envId) (otcs_resource_trace_files_total)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"trace_files\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"trace_files\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__trace_files\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"trace_files\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__trace_files\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: systemresources
          componentType: LOGS
        annotations:
          componentType: LOGS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='trace_files',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='trace_files',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Trace Files
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='trace_files',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='trace_files',severity='warning'})\" | first | value) -}}Threads are generating trace files"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='systemresources',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __trace_files
        expr: "((max by (systemId, envId) (otcs_resource_trace_files_total)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"trace_files\"})\n  or (\n    (max by (systemId, envId) (otcs_resource_trace_files_total)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"trace_files\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"trace_files\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: trace_files
        expr: "(((max by (systemId, envId) (otcs_resource_trace_files_total)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"trace_files\"})\n  or (\n    (max by (systemId, envId) (otcs_resource_trace_files_total)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"trace_files\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"trace_files\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__trace_files\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"trace_files\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__trace_files\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: systemresources
          componentType: LOGS
        annotations:
          componentType: LOGS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='trace_files',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='trace_files',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Trace Files
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='trace_files',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='trace_files',severity='error'})\" | first | value) -}}Threads are generating trace files"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='systemresources',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __log_files_size_high
        expr: "((sum by (systemId, envId) (otcs_log_files_total_size)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"log_files_size_high\"})\n  or (\n    (sum by (systemId, envId) (otcs_log_files_total_size)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"log_files_size_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"log_files_size_high\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: log_files_size_high
        expr: "(((sum by (systemId, envId) (otcs_log_files_total_size)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"log_files_size_high\"})\n  or (\n    (sum by (systemId, envId) (otcs_log_files_total_size)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"log_files_size_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"log_files_size_high\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__log_files_size_high\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"log_files_size_high\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__log_files_size_high\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: logcollection
          componentType: LOGS
        annotations:
          componentType: LOGS
          below: "false"
          units: BYTES
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='log_files_size_high',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='log_files_size_high',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Logs Size
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='log_files_size_high',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='log_files_size_high',severity='warning'})\" | first | value) -}}Log files size above {{ $threshold | humanize1024 }}B"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='logcollection',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __log_files_size_high
        expr: "((sum by (systemId, envId) (otcs_log_files_total_size)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"log_files_size_high\"})\n  or (\n    (sum by (systemId, envId) (otcs_log_files_total_size)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"log_files_size_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"log_files_size_high\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: log_files_size_high
        expr: "(((sum by (systemId, envId) (otcs_log_files_total_size)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"log_files_size_high\"})\n  or (\n    (sum by (systemId, envId) (otcs_log_files_total_size)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"log_files_size_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"log_files_size_high\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__log_files_size_high\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"log_files_size_high\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__log_files_size_high\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: logcollection
          componentType: LOGS
        annotations:
          componentType: LOGS
          below: "false"
          units: BYTES
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='log_files_size_high',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='log_files_size_high',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Logs Size
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='log_files_size_high',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='log_files_size_high',severity='error'})\" | first | value) -}}Log files size above {{ $threshold | humanize1024 }}B"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='logcollection',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_unavailable
        expr: "((min by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_available and otcs_storage_provider_blacklisted == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_unavailable\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_available and otcs_storage_provider_blacklisted == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_unavailable\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_unavailable\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: storage_provider_unavailable
        expr: "(((min by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_available and otcs_storage_provider_blacklisted == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_unavailable\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_available and otcs_storage_provider_blacklisted == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_unavailable\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_unavailable\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_unavailable\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_unavailable\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_unavailable\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_unavailable',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_unavailable',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Availability"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_unavailable',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_unavailable',severity='warning'})\" | first | value) -}}Storage provider \"{{ $labels.componentName }}\" is unavailable{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_unavailable
        expr: "((min by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_available and otcs_storage_provider_blacklisted == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_unavailable\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_available and otcs_storage_provider_blacklisted == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_unavailable\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_unavailable\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: storage_provider_unavailable
        expr: "(((min by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_available and otcs_storage_provider_blacklisted == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_unavailable\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_available and otcs_storage_provider_blacklisted == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_unavailable\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_unavailable\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_unavailable\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_unavailable\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_unavailable\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_unavailable',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_unavailable',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Availability"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_unavailable',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_unavailable',severity='error'})\" | first | value) -}}Storage provider \"{{ $labels.componentName }}\" is unavailable{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __configuration_policy_compliance_failures
        expr: "((sum by (systemId, envId) (fuse_configuration_policy_compliance_failures)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"configuration_policy_compliance_failures\"})\n  or (\n    (sum by (systemId, envId) (fuse_configuration_policy_compliance_failures)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"configuration_policy_compliance_failures\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"configuration_policy_compliance_failures\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: configuration_policy_compliance_failures
        expr: "(((sum by (systemId, envId) (fuse_configuration_policy_compliance_failures)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"configuration_policy_compliance_failures\"})\n  or (\n    (sum by (systemId, envId) (fuse_configuration_policy_compliance_failures)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"configuration_policy_compliance_failures\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"configuration_policy_compliance_failures\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__configuration_policy_compliance_failures\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"configuration_policy_compliance_failures\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__configuration_policy_compliance_failures\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: configurationpolicycompliance
          componentType: CONFIGURATIONS
        annotations:
          componentType: CONFIGURATIONS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='configuration_policy_compliance_failures',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='configuration_policy_compliance_failures',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Configuration policy compliance failure
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='configuration_policy_compliance_failures',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='configuration_policy_compliance_failures',severity='warning'})\" | first | value) -}}System is non-compliant with the configuration policies{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='configurationpolicycompliance',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __configuration_policy_compliance_failures
        expr: "((sum by (systemId, envId) (fuse_configuration_policy_compliance_failures)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"configuration_policy_compliance_failures\"})\n  or (\n    (sum by (systemId, envId) (fuse_configuration_policy_compliance_failures)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"configuration_policy_compliance_failures\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"configuration_policy_compliance_failures\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: configuration_policy_compliance_failures
        expr: "(((sum by (systemId, envId) (fuse_configuration_policy_compliance_failures)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"configuration_policy_compliance_failures\"})\n  or (\n    (sum by (systemId, envId) (fuse_configuration_policy_compliance_failures)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"configuration_policy_compliance_failures\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"configuration_policy_compliance_failures\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__configuration_policy_compliance_failures\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"configuration_policy_compliance_failures\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__configuration_policy_compliance_failures\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: configurationpolicycompliance
          componentType: CONFIGURATIONS
        annotations:
          componentType: CONFIGURATIONS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='configuration_policy_compliance_failures',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='configuration_policy_compliance_failures',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Configuration policy compliance failure
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='configuration_policy_compliance_failures',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='configuration_policy_compliance_failures',severity='error'})\" | first | value) -}}System is non-compliant with the configuration policies{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='configurationpolicycompliance',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __configuration_policy_compliance_conflicts
        expr: "((sum by (systemId, envId) (fuse_configuration_policy_compliance_conflicts)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"configuration_policy_compliance_conflicts\"})\n  or (\n    (sum by (systemId, envId) (fuse_configuration_policy_compliance_conflicts)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"configuration_policy_compliance_conflicts\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"configuration_policy_compliance_conflicts\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: configuration_policy_compliance_conflicts
        expr: "(((sum by (systemId, envId) (fuse_configuration_policy_compliance_conflicts)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"configuration_policy_compliance_conflicts\"})\n  or (\n    (sum by (systemId, envId) (fuse_configuration_policy_compliance_conflicts)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"configuration_policy_compliance_conflicts\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"configuration_policy_compliance_conflicts\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__configuration_policy_compliance_conflicts\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"configuration_policy_compliance_conflicts\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__configuration_policy_compliance_conflicts\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: configurationpolicycompliance
          componentType: CONFIGURATIONS
        annotations:
          componentType: CONFIGURATIONS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='configuration_policy_compliance_conflicts',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='configuration_policy_compliance_conflicts',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Configuration policy compliance conflict
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='configuration_policy_compliance_conflicts',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='configuration_policy_compliance_conflicts',severity='warning'})\" | first | value) -}}System has conflicting configuration policies{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='configurationpolicycompliance',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __configuration_policy_compliance_conflicts
        expr: "((sum by (systemId, envId) (fuse_configuration_policy_compliance_conflicts)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"configuration_policy_compliance_conflicts\"})\n  or (\n    (sum by (systemId, envId) (fuse_configuration_policy_compliance_conflicts)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"configuration_policy_compliance_conflicts\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"configuration_policy_compliance_conflicts\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: configuration_policy_compliance_conflicts
        expr: "(((sum by (systemId, envId) (fuse_configuration_policy_compliance_conflicts)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"configuration_policy_compliance_conflicts\"})\n  or (\n    (sum by (systemId, envId) (fuse_configuration_policy_compliance_conflicts)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"configuration_policy_compliance_conflicts\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"configuration_policy_compliance_conflicts\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__configuration_policy_compliance_conflicts\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"configuration_policy_compliance_conflicts\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__configuration_policy_compliance_conflicts\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: configurationpolicycompliance
          componentType: CONFIGURATIONS
        annotations:
          componentType: CONFIGURATIONS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='configuration_policy_compliance_conflicts',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='configuration_policy_compliance_conflicts',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Configuration policy compliance conflict
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='configuration_policy_compliance_conflicts',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='configuration_policy_compliance_conflicts',severity='error'})\" | first | value) -}}System has conflicting configuration policies{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='configurationpolicycompliance',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __authentication_error
        expr: "((count by (systemId, envId) (fuse_system_request_status == 401)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"authentication_error\"})\n  or (\n    (count by (systemId, envId) (fuse_system_request_status == 401)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"authentication_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"authentication_error\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: authentication_error
        expr: "(((count by (systemId, envId) (fuse_system_request_status == 401)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"authentication_error\"})\n  or (\n    (count by (systemId, envId) (fuse_system_request_status == 401)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"authentication_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"authentication_error\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__authentication_error\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"authentication_error\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__authentication_error\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='authentication_error',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='authentication_error',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Authentication Error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='authentication_error',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='authentication_error',severity='warning'})\" | first | value) -}}Authentication credentials failed. Please review OTDS status or/and if required update your system credentials."
      - alert: __authentication_error
        expr: "((count by (systemId, envId) (fuse_system_request_status == 401)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"authentication_error\"})\n  or (\n    (count by (systemId, envId) (fuse_system_request_status == 401)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"authentication_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"authentication_error\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: authentication_error
        expr: "(((count by (systemId, envId) (fuse_system_request_status == 401)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"authentication_error\"})\n  or (\n    (count by (systemId, envId) (fuse_system_request_status == 401)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"authentication_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"authentication_error\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__authentication_error\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"authentication_error\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__authentication_error\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='authentication_error',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='authentication_error',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Authentication Error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='authentication_error',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='authentication_error',severity='error'})\" | first | value) -}}Authentication credentials failed. Please review OTDS status or/and if required update your system credentials."
      - alert: __secretkey_error
        expr: "((count by (systemId, envId) (fuse_system_request_status == 403)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"secretkey_error\"})\n  or (\n    (count by (systemId, envId) (fuse_system_request_status == 403)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"secretkey_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"secretkey_error\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: secretkey_error
        expr: "(((count by (systemId, envId) (fuse_system_request_status == 403)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"secretkey_error\"})\n  or (\n    (count by (systemId, envId) (fuse_system_request_status == 403)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"secretkey_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"secretkey_error\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__secretkey_error\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"secretkey_error\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__secretkey_error\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          componentType: FUSE_CLIENT
        annotations:
          componentType: FUSE_CLIENT
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='secretkey_error',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='secretkey_error',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Secret Key Error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='secretkey_error',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='secretkey_error',severity='warning'})\" | first | value) -}}Incorrect secret key, please deactivate and re-activate system."
      - alert: __secretkey_error
        expr: "((count by (systemId, envId) (fuse_system_request_status == 403)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"secretkey_error\"})\n  or (\n    (count by (systemId, envId) (fuse_system_request_status == 403)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"secretkey_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"secretkey_error\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: secretkey_error
        expr: "(((count by (systemId, envId) (fuse_system_request_status == 403)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"secretkey_error\"})\n  or (\n    (count by (systemId, envId) (fuse_system_request_status == 403)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"secretkey_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"secretkey_error\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__secretkey_error\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"secretkey_error\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__secretkey_error\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          componentType: FUSE_CLIENT
        annotations:
          componentType: FUSE_CLIENT
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='secretkey_error',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='secretkey_error',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Secret Key Error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='secretkey_error',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='secretkey_error',severity='error'})\" | first | value) -}}Incorrect secret key, please deactivate and re-activate system."
      - alert: __default_admin_server_password
        expr: "((sum by (systemId, envId) (otcs_system_admin_server_default_password)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"default_admin_server_password\"})\n  or (\n    (sum by (systemId, envId) (otcs_system_admin_server_default_password)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"default_admin_server_password\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"default_admin_server_password\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: default_admin_server_password
        expr: "(((sum by (systemId, envId) (otcs_system_admin_server_default_password)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"default_admin_server_password\"})\n  or (\n    (sum by (systemId, envId) (otcs_system_admin_server_default_password)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"default_admin_server_password\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"default_admin_server_password\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__default_admin_server_password\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"default_admin_server_password\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__default_admin_server_password\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: systeminfo
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='default_admin_server_password',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='default_admin_server_password',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Security Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='default_admin_server_password',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='default_admin_server_password',severity='warning'})\" | first | value) -}}Admin server password is set to default, for security reasons you should consider to change it."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='systeminfo',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __default_admin_server_password
        expr: "((sum by (systemId, envId) (otcs_system_admin_server_default_password)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"default_admin_server_password\"})\n  or (\n    (sum by (systemId, envId) (otcs_system_admin_server_default_password)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"default_admin_server_password\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"default_admin_server_password\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: default_admin_server_password
        expr: "(((sum by (systemId, envId) (otcs_system_admin_server_default_password)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"default_admin_server_password\"})\n  or (\n    (sum by (systemId, envId) (otcs_system_admin_server_default_password)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"default_admin_server_password\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"default_admin_server_password\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__default_admin_server_password\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"default_admin_server_password\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__default_admin_server_password\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: systeminfo
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='default_admin_server_password',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='default_admin_server_password',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Security Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='default_admin_server_password',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='default_admin_server_password',severity='error'})\" | first | value) -}}Admin server password is set to default, for security reasons you should consider to change it."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='systeminfo',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __default_admin_user_password
        expr: "((sum by (systemId, envId) (otcs_system_admin_user_default_password)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"default_admin_user_password\"})\n  or (\n    (sum by (systemId, envId) (otcs_system_admin_user_default_password)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"default_admin_user_password\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"default_admin_user_password\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: default_admin_user_password
        expr: "(((sum by (systemId, envId) (otcs_system_admin_user_default_password)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"default_admin_user_password\"})\n  or (\n    (sum by (systemId, envId) (otcs_system_admin_user_default_password)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"default_admin_user_password\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"default_admin_user_password\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__default_admin_user_password\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"default_admin_user_password\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__default_admin_user_password\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: systeminfo
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='default_admin_user_password',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='default_admin_user_password',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Security Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='default_admin_user_password',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='default_admin_user_password',severity='warning'})\" | first | value) -}}Admin user password is set to default, for security reasons you should consider to change it."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='systeminfo',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __default_admin_user_password
        expr: "((sum by (systemId, envId) (otcs_system_admin_user_default_password)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"default_admin_user_password\"})\n  or (\n    (sum by (systemId, envId) (otcs_system_admin_user_default_password)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"default_admin_user_password\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"default_admin_user_password\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: default_admin_user_password
        expr: "(((sum by (systemId, envId) (otcs_system_admin_user_default_password)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"default_admin_user_password\"})\n  or (\n    (sum by (systemId, envId) (otcs_system_admin_user_default_password)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"default_admin_user_password\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"default_admin_user_password\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__default_admin_user_password\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"default_admin_user_password\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__default_admin_user_password\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: systeminfo
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='default_admin_user_password',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='default_admin_user_password',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Security Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='default_admin_user_password',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='default_admin_user_password',severity='error'})\" | first | value) -}}Admin user password is set to default, for security reasons you should consider to change it."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='systeminfo',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __dump_files
        expr: "((sum by (systemId, envId) (otcs_resource_dump_files_total)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"dump_files\"})\n  or (\n    (sum by (systemId, envId) (otcs_resource_dump_files_total)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"dump_files\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"dump_files\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: dump_files
        expr: "(((sum by (systemId, envId) (otcs_resource_dump_files_total)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"dump_files\"})\n  or (\n    (sum by (systemId, envId) (otcs_resource_dump_files_total)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"dump_files\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"dump_files\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__dump_files\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"dump_files\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__dump_files\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: systemresources
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "false"
          units: BYTES
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='dump_files',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='dump_files',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Java Crash Dump File(s)
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='dump_files',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='dump_files',severity='warning'})\" | first | value) -}}System is generating Java Crash dump file(s) ({{ $value | humanize1024 }}B). This could mean that the application JVM crashed, these files can also cause high consumption of the application disks."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='systemresources',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __dump_files
        expr: "((sum by (systemId, envId) (otcs_resource_dump_files_total)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"dump_files\"})\n  or (\n    (sum by (systemId, envId) (otcs_resource_dump_files_total)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"dump_files\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"dump_files\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: dump_files
        expr: "(((sum by (systemId, envId) (otcs_resource_dump_files_total)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"dump_files\"})\n  or (\n    (sum by (systemId, envId) (otcs_resource_dump_files_total)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"dump_files\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"dump_files\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__dump_files\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"dump_files\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__dump_files\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: systemresources
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "false"
          units: BYTES
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='dump_files',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='dump_files',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Java Crash Dump File(s)
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='dump_files',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='dump_files',severity='error'})\" | first | value) -}}System is generating Java Crash dump file(s) ({{ $value | humanize1024 }}B). This could mean that the application JVM crashed, these files can also cause high consumption of the application disks."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='systemresources',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_ipool_quarantined
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_quarantined)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_ipool_quarantined\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_quarantined)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_ipool_quarantined\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_ipool_quarantined\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_ipool_quarantined
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_quarantined)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_ipool_quarantined\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_quarantined)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_ipool_quarantined\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_ipool_quarantined\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_ipool_quarantined\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_ipool_quarantined\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_ipool_quarantined\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_ipool_quarantined',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_ipool_quarantined',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "iPool \"{{ $labels.componentName }}\" Quarantine Warning"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_ipool_quarantined',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_ipool_quarantined',severity='warning'})\" | first | value) -}}iPool \"{{ $labels.componentName }}\" has quarantined items"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_ipool_quarantined
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_quarantined)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_ipool_quarantined\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_quarantined)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_ipool_quarantined\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_ipool_quarantined\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_ipool_quarantined
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_quarantined)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_ipool_quarantined\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_quarantined)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_ipool_quarantined\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_ipool_quarantined\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_ipool_quarantined\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_ipool_quarantined\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_ipool_quarantined\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_ipool_quarantined',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_ipool_quarantined',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "iPool \"{{ $labels.componentName }}\" Quarantine Warning"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_ipool_quarantined',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_ipool_quarantined',severity='error'})\" | first | value) -}}iPool \"{{ $labels.componentName }}\" has quarantined items"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_partition_full
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_state) == 2) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_full\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_state) == 2) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_full\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_full\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_partition_full
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_state) == 2) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_full\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_state) == 2) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_full\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_full\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_partition_full\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_partition_full\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_partition_full\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_partition_full',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_partition_full',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Partition \"{{ $labels.componentName }}\" is Full"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_partition_full',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_partition_full',severity='warning'})\" | first | value) -}}Partition \"{{ $labels.componentName }}\" has reached the maximum capacity defined in this Partition Settings{{ if $forSeconds }} ,for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_partition_full
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_state) == 2) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_full\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_state) == 2) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_full\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_full\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_partition_full
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_state) == 2) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_full\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_state) == 2) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_full\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_full\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_partition_full\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_partition_full\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_partition_full\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_partition_full',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_partition_full',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Partition \"{{ $labels.componentName }}\" is Full"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_partition_full',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_partition_full',severity='error'})\" | first | value) -}}Partition \"{{ $labels.componentName }}\" has reached the maximum capacity defined in this Partition Settings{{ if $forSeconds }} ,for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __verify_agent_multiple_instances
        expr: "(((count by (envId) (otcs_loaderprocess_alive{componentName=\"verifyAgent\"} == 1) and count by (envId) (otcs_agent_activated{componentId=\"12568\"} == 1) ) > 1) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"verify_agent_multiple_instances\"})\n  or (\n    ((count by (envId) (otcs_loaderprocess_alive{componentName=\"verifyAgent\"} == 1) and count by (envId) (otcs_agent_activated{componentId=\"12568\"} == 1) ) > 1) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"verify_agent_multiple_instances\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"verify_agent_multiple_instances\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: verify_agent_multiple_instances
        expr: "((((count by (envId) (otcs_loaderprocess_alive{componentName=\"verifyAgent\"} == 1) and count by (envId) (otcs_agent_activated{componentId=\"12568\"} == 1) ) > 1) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"verify_agent_multiple_instances\"})\n  or (\n    ((count by (envId) (otcs_loaderprocess_alive{componentName=\"verifyAgent\"} == 1) and count by (envId) (otcs_agent_activated{componentId=\"12568\"} == 1) ) > 1) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"verify_agent_multiple_instances\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"verify_agent_multiple_instances\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__verify_agent_multiple_instances\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"verify_agent_multiple_instances\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__verify_agent_multiple_instances\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: loaderprocesses
          componentType: AGENTS
        annotations:
          componentType: AGENTS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='verify_agent_multiple_instances',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='verify_agent_multiple_instances',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Environment 'VerifyAgent' process error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='verify_agent_multiple_instances',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='verify_agent_multiple_instances',severity='warning'})\" | first | value) -}}Multiple instances of the 'Verify Agent' process ({{ $value }}) are enabled on this environment, only 1 instance is allowed per environment."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='loaderprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __verify_agent_multiple_instances
        expr: "(((count by (envId) (otcs_loaderprocess_alive{componentName=\"verifyAgent\"} == 1) and count by (envId) (otcs_agent_activated{componentId=\"12568\"} == 1) ) > 1) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"verify_agent_multiple_instances\"})\n  or (\n    ((count by (envId) (otcs_loaderprocess_alive{componentName=\"verifyAgent\"} == 1) and count by (envId) (otcs_agent_activated{componentId=\"12568\"} == 1) ) > 1) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"verify_agent_multiple_instances\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"verify_agent_multiple_instances\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: verify_agent_multiple_instances
        expr: "((((count by (envId) (otcs_loaderprocess_alive{componentName=\"verifyAgent\"} == 1) and count by (envId) (otcs_agent_activated{componentId=\"12568\"} == 1) ) > 1) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"verify_agent_multiple_instances\"})\n  or (\n    ((count by (envId) (otcs_loaderprocess_alive{componentName=\"verifyAgent\"} == 1) and count by (envId) (otcs_agent_activated{componentId=\"12568\"} == 1) ) > 1) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"verify_agent_multiple_instances\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"verify_agent_multiple_instances\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__verify_agent_multiple_instances\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"verify_agent_multiple_instances\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__verify_agent_multiple_instances\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: loaderprocesses
          componentType: AGENTS
        annotations:
          componentType: AGENTS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='verify_agent_multiple_instances',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='verify_agent_multiple_instances',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Environment 'VerifyAgent' process error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='verify_agent_multiple_instances',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='verify_agent_multiple_instances',severity='error'})\" | first | value) -}}Multiple instances of the 'Verify Agent' process ({{ $value }}) are enabled on this environment, only 1 instance is allowed per environment."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='loaderprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __invalid_client_version
        expr: "((max by (systemId, envId) (fuse_client_version_valid)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"invalid_client_version\"})\n  or (\n    (max by (systemId, envId) (fuse_client_version_valid)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"invalid_client_version\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"invalid_client_version\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: invalid_client_version
        expr: "(((max by (systemId, envId) (fuse_client_version_valid)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"invalid_client_version\"})\n  or (\n    (max by (systemId, envId) (fuse_client_version_valid)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"invalid_client_version\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"invalid_client_version\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__invalid_client_version\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"invalid_client_version\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__invalid_client_version\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          componentType: FUSE_CLIENT
        annotations:
          componentType: FUSE_CLIENT
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='invalid_client_version',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='invalid_client_version',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Fuse Management Client Compatibility Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='invalid_client_version',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='invalid_client_version',severity='warning'})\" | first | value) -}}Please upgrade Fuse Management Client to avoid compatibility issues"
      - alert: __invalid_client_version
        expr: "((max by (systemId, envId) (fuse_client_version_valid)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"invalid_client_version\"})\n  or (\n    (max by (systemId, envId) (fuse_client_version_valid)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"invalid_client_version\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"invalid_client_version\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: invalid_client_version
        expr: "(((max by (systemId, envId) (fuse_client_version_valid)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"invalid_client_version\"})\n  or (\n    (max by (systemId, envId) (fuse_client_version_valid)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"invalid_client_version\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"invalid_client_version\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__invalid_client_version\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"invalid_client_version\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__invalid_client_version\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          componentType: FUSE_CLIENT
        annotations:
          componentType: FUSE_CLIENT
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='invalid_client_version',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='invalid_client_version',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Fuse Management Client Compatibility Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='invalid_client_version',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='invalid_client_version',severity='error'})\" | first | value) -}}Please upgrade Fuse Management Client to avoid compatibility issues"
      - alert: __database_query_performance
        expr: "((max by (systemId, envId, componentId, componentName, componentClass) (otcs_db_query_execution_time)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"database_query_performance\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otcs_db_query_execution_time)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"database_query_performance\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"database_query_performance\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: database_query_performance
        expr: "(((max by (systemId, envId, componentId, componentName, componentClass) (otcs_db_query_execution_time)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"database_query_performance\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otcs_db_query_execution_time)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"database_query_performance\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"database_query_performance\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__database_query_performance\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"database_query_performance\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__database_query_performance\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: dbperformance
          componentType: DB_PERFORMANCE
        annotations:
          componentType: DB_PERFORMANCE
          below: "false"
          units: MILLISECONDS
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='database_query_performance',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='database_query_performance',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Database Query Performance Issue in \"{{ $labels.componentName }}\""
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='database_query_performance',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='database_query_performance',severity='warning'})\" | first | value) -}}Queries to table \"{{ $labels.componentName }}\" are taking more than {{ $threshold }}ms {{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dbperformance',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __database_query_performance
        expr: "((max by (systemId, envId, componentId, componentName, componentClass) (otcs_db_query_execution_time)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"database_query_performance\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otcs_db_query_execution_time)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"database_query_performance\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"database_query_performance\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: database_query_performance
        expr: "(((max by (systemId, envId, componentId, componentName, componentClass) (otcs_db_query_execution_time)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"database_query_performance\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otcs_db_query_execution_time)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"database_query_performance\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"database_query_performance\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__database_query_performance\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"database_query_performance\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__database_query_performance\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: dbperformance
          componentType: DB_PERFORMANCE
        annotations:
          componentType: DB_PERFORMANCE
          below: "false"
          units: MILLISECONDS
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='database_query_performance',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='database_query_performance',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Database Query Performance Issue in \"{{ $labels.componentName }}\""
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='database_query_performance',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='database_query_performance',severity='error'})\" | first | value) -}}Queries to table \"{{ $labels.componentName }}\" are taking more than {{ $threshold }}ms {{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dbperformance',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __stale_metric
        expr: "((max by (systemId, envId, componentId, componentName, componentClass, metricsEntity) (fuse_stale_metric * on(systemId, envId) group_left() otcs_heartbeat_up)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"stale_metric\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass, metricsEntity) (fuse_stale_metric * on(systemId, envId) group_left() otcs_heartbeat_up)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"stale_metric\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"stale_metric\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: stale_metric
        expr: "(((max by (systemId, envId, componentId, componentName, componentClass, metricsEntity) (fuse_stale_metric * on(systemId, envId) group_left() otcs_heartbeat_up)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"stale_metric\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass, metricsEntity) (fuse_stale_metric * on(systemId, envId) group_left() otcs_heartbeat_up)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"stale_metric\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"stale_metric\",severity=\"warning\"}))) and (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__stale_metric\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"stale_metric\",severity=\"warning\"}))) and\nmin without (alertname, severity, alertstate) (ALERTS{alertname=\"__stale_metric\",severity=\"warning\"}))"
        labels:
          adminAlert: "true"
          severity: warning
          ruleGroup: fuse-alerts-5s
          componentType: HEALTH
        annotations:
          componentType: HEALTH
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='stale_metric',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='stale_metric',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Metric is Stale
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='stale_metric',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='stale_metric',severity='warning'})\" | first | value) -}}Metric group \"{{ $labels.componentName }}\" is stale, values can be inaccurate from actual values."
      - alert: __stale_metric
        expr: "((max by (systemId, envId, componentId, componentName, componentClass, metricsEntity) (fuse_stale_metric * on(systemId, envId) group_left() otcs_heartbeat_up)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"stale_metric\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass, metricsEntity) (fuse_stale_metric * on(systemId, envId) group_left() otcs_heartbeat_up)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"stale_metric\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"stale_metric\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: stale_metric
        expr: "(((max by (systemId, envId, componentId, componentName, componentClass, metricsEntity) (fuse_stale_metric * on(systemId, envId) group_left() otcs_heartbeat_up)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"stale_metric\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass, metricsEntity) (fuse_stale_metric * on(systemId, envId) group_left() otcs_heartbeat_up)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"stale_metric\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"stale_metric\",severity=\"error\"}))) and (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__stale_metric\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"stale_metric\",severity=\"error\"}))) and\nmin without (alertname, severity, alertstate) (ALERTS{alertname=\"__stale_metric\",severity=\"error\"}))"
        labels:
          adminAlert: "true"
          severity: error
          ruleGroup: fuse-alerts-5s
          componentType: HEALTH
        annotations:
          componentType: HEALTH
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='stale_metric',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='stale_metric',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Metric is Stale
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='stale_metric',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='stale_metric',severity='error'})\" | first | value) -}}Metric group \"{{ $labels.componentName }}\" is stale, values can be inaccurate from actual values."
      - alert: __fuse_client_pending_log_configurations
        expr: "((sum by (systemId, envId) (fuse_client_logs_directory_configured)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"fuse_client_pending_log_configurations\"})\n  or (\n    (sum by (systemId, envId) (fuse_client_logs_directory_configured)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"fuse_client_pending_log_configurations\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"fuse_client_pending_log_configurations\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: fuse_client_pending_log_configurations
        expr: "(((sum by (systemId, envId) (fuse_client_logs_directory_configured)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"fuse_client_pending_log_configurations\"})\n  or (\n    (sum by (systemId, envId) (fuse_client_logs_directory_configured)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"fuse_client_pending_log_configurations\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"fuse_client_pending_log_configurations\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__fuse_client_pending_log_configurations\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"fuse_client_pending_log_configurations\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__fuse_client_pending_log_configurations\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: acsysteminfo
          componentType: FUSE_CLIENT
        annotations:
          componentType: FUSE_CLIENT
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='fuse_client_pending_log_configurations',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='fuse_client_pending_log_configurations',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Fuse Management Client - Pending Log Configurations
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='fuse_client_pending_log_configurations',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='fuse_client_pending_log_configurations',severity='warning'})\" | first | value) -}}Fuse Management Client is currently with pending log path configurations. Please access Fuse Management Client and review all log settings."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='acsysteminfo',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __fuse_client_pending_log_configurations
        expr: "((sum by (systemId, envId) (fuse_client_logs_directory_configured)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"fuse_client_pending_log_configurations\"})\n  or (\n    (sum by (systemId, envId) (fuse_client_logs_directory_configured)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"fuse_client_pending_log_configurations\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"fuse_client_pending_log_configurations\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: fuse_client_pending_log_configurations
        expr: "(((sum by (systemId, envId) (fuse_client_logs_directory_configured)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"fuse_client_pending_log_configurations\"})\n  or (\n    (sum by (systemId, envId) (fuse_client_logs_directory_configured)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"fuse_client_pending_log_configurations\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"fuse_client_pending_log_configurations\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__fuse_client_pending_log_configurations\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"fuse_client_pending_log_configurations\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__fuse_client_pending_log_configurations\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: acsysteminfo
          componentType: FUSE_CLIENT
        annotations:
          componentType: FUSE_CLIENT
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='fuse_client_pending_log_configurations',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='fuse_client_pending_log_configurations',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Fuse Management Client - Pending Log Configurations
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='fuse_client_pending_log_configurations',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='fuse_client_pending_log_configurations',severity='error'})\" | first | value) -}}Fuse Management Client is currently with pending log path configurations. Please access Fuse Management Client and review all log settings."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='acsysteminfo',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __fuse_client_pending_directories_configurations
        expr: "((sum by (systemId, envId) (fuse_client_directories_configured)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"fuse_client_pending_directories_configurations\"})\n  or (\n    (sum by (systemId, envId) (fuse_client_directories_configured)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"fuse_client_pending_directories_configurations\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"fuse_client_pending_directories_configurations\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: fuse_client_pending_directories_configurations
        expr: "(((sum by (systemId, envId) (fuse_client_directories_configured)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"fuse_client_pending_directories_configurations\"})\n  or (\n    (sum by (systemId, envId) (fuse_client_directories_configured)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"fuse_client_pending_directories_configurations\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"fuse_client_pending_directories_configurations\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__fuse_client_pending_directories_configurations\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"fuse_client_pending_directories_configurations\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__fuse_client_pending_directories_configurations\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: acsysteminfo
          componentType: FUSE_CLIENT
        annotations:
          componentType: FUSE_CLIENT
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='fuse_client_pending_directories_configurations',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='fuse_client_pending_directories_configurations',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Fuse Management Client - Pending Directories Configurations
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='fuse_client_pending_directories_configurations',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='fuse_client_pending_directories_configurations',severity='warning'})\" | first | value) -}}Fuse Management Client is currently with pending directories configurations. Please access Fuse Management Client and review all directories settings."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='acsysteminfo',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __fuse_client_pending_directories_configurations
        expr: "((sum by (systemId, envId) (fuse_client_directories_configured)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"fuse_client_pending_directories_configurations\"})\n  or (\n    (sum by (systemId, envId) (fuse_client_directories_configured)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"fuse_client_pending_directories_configurations\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"fuse_client_pending_directories_configurations\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: fuse_client_pending_directories_configurations
        expr: "(((sum by (systemId, envId) (fuse_client_directories_configured)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"fuse_client_pending_directories_configurations\"})\n  or (\n    (sum by (systemId, envId) (fuse_client_directories_configured)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"fuse_client_pending_directories_configurations\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"fuse_client_pending_directories_configurations\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__fuse_client_pending_directories_configurations\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"fuse_client_pending_directories_configurations\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__fuse_client_pending_directories_configurations\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: acsysteminfo
          componentType: FUSE_CLIENT
        annotations:
          componentType: FUSE_CLIENT
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='fuse_client_pending_directories_configurations',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='fuse_client_pending_directories_configurations',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Fuse Management Client - Pending Directories Configurations
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='fuse_client_pending_directories_configurations',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='fuse_client_pending_directories_configurations',severity='error'})\" | first | value) -}}Fuse Management Client is currently with pending directories configurations. Please access Fuse Management Client and review all directories settings."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='acsysteminfo',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __notify_loader_multiple_instances
        expr: "((count by (envId) (otcs_loaderprocess_alive{componentName=\"notify\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableNotification\"} == 1) > 1) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"notify_loader_multiple_instances\"})\n  or (\n    (count by (envId) (otcs_loaderprocess_alive{componentName=\"notify\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableNotification\"} == 1) > 1) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"notify_loader_multiple_instances\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"notify_loader_multiple_instances\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: notify_loader_multiple_instances
        expr: "(((count by (envId) (otcs_loaderprocess_alive{componentName=\"notify\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableNotification\"} == 1) > 1) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"notify_loader_multiple_instances\"})\n  or (\n    (count by (envId) (otcs_loaderprocess_alive{componentName=\"notify\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableNotification\"} == 1) > 1) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"notify_loader_multiple_instances\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"notify_loader_multiple_instances\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__notify_loader_multiple_instances\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"notify_loader_multiple_instances\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__notify_loader_multiple_instances\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-5s
          metricsEntity: loaderprocesses
          componentType: AGENTS
        annotations:
          componentType: AGENTS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='notify_loader_multiple_instances',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='notify_loader_multiple_instances',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Environment 'Notify' process error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='notify_loader_multiple_instances',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='notify_loader_multiple_instances',severity='warning'})\" | first | value) -}}Multiple instances of the 'Notify' process ({{ $value }}) are enabled on this environment, only 1 instance is allowed per environment."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='loaderprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __notify_loader_multiple_instances
        expr: "((count by (envId) (otcs_loaderprocess_alive{componentName=\"notify\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableNotification\"} == 1) > 1) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"notify_loader_multiple_instances\"})\n  or (\n    (count by (envId) (otcs_loaderprocess_alive{componentName=\"notify\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableNotification\"} == 1) > 1) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"notify_loader_multiple_instances\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"notify_loader_multiple_instances\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: notify_loader_multiple_instances
        expr: "(((count by (envId) (otcs_loaderprocess_alive{componentName=\"notify\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableNotification\"} == 1) > 1) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"notify_loader_multiple_instances\"})\n  or (\n    (count by (envId) (otcs_loaderprocess_alive{componentName=\"notify\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableNotification\"} == 1) > 1) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"notify_loader_multiple_instances\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"notify_loader_multiple_instances\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__notify_loader_multiple_instances\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"notify_loader_multiple_instances\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__notify_loader_multiple_instances\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-5s
          metricsEntity: loaderprocesses
          componentType: AGENTS
        annotations:
          componentType: AGENTS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='notify_loader_multiple_instances',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='notify_loader_multiple_instances',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Environment 'Notify' process error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='notify_loader_multiple_instances',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='notify_loader_multiple_instances',severity='error'})\" | first | value) -}}Multiple instances of the 'Notify' process ({{ $value }}) are enabled on this environment, only 1 instance is allowed per environment."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='loaderprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
  - name: fuse-alerts-30s
    interval: 30s
    rules:
      - alert: __performance_low
        expr: "((min by (systemId, envId) (system_env:perf)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"performance_low\"})\n  or (\n    (min by (systemId, envId) (system_env:perf)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"performance_low\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"performance_low\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: performance_low
        expr: "(((min by (systemId, envId) (system_env:perf)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"performance_low\"})\n  or (\n    (min by (systemId, envId) (system_env:perf)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"performance_low\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"performance_low\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__performance_low\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"performance_low\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__performance_low\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "true"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='performance_low',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='performance_low',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Performance
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='performance_low',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='performance_low',severity='warning'})\" | first | value) -}}Performance is below {{ $threshold | humanizePercentage }}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
      - alert: __performance_low
        expr: "((min by (systemId, envId) (system_env:perf)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"performance_low\"})\n  or (\n    (min by (systemId, envId) (system_env:perf)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"performance_low\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"performance_low\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: performance_low
        expr: "(((min by (systemId, envId) (system_env:perf)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"performance_low\"})\n  or (\n    (min by (systemId, envId) (system_env:perf)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"performance_low\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"performance_low\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__performance_low\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"performance_low\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__performance_low\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "true"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='performance_low',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='performance_low',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Performance
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='performance_low',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='performance_low',severity='error'})\" | first | value) -}}Performance is below {{ $threshold | humanizePercentage }}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
      - alert: __cpu_high
        expr: "((max by (systemId, envId) (otcs_resource_system_cpu_load)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"cpu_high\"})\n  or (\n    (max by (systemId, envId) (otcs_resource_system_cpu_load)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"cpu_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"cpu_high\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: cpu_high
        expr: "(((max by (systemId, envId) (otcs_resource_system_cpu_load)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"cpu_high\"})\n  or (\n    (max by (systemId, envId) (otcs_resource_system_cpu_load)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"cpu_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"cpu_high\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__cpu_high\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"cpu_high\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__cpu_high\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: systemresources
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "false"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='cpu_high',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='cpu_high',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: CPU Usage
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='cpu_high',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='cpu_high',severity='warning'})\" | first | value) -}}CPU usage is above {{ $threshold | humanizePercentage }}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='systemresources',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __cpu_high
        expr: "((max by (systemId, envId) (otcs_resource_system_cpu_load)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"cpu_high\"})\n  or (\n    (max by (systemId, envId) (otcs_resource_system_cpu_load)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"cpu_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"cpu_high\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: cpu_high
        expr: "(((max by (systemId, envId) (otcs_resource_system_cpu_load)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"cpu_high\"})\n  or (\n    (max by (systemId, envId) (otcs_resource_system_cpu_load)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"cpu_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"cpu_high\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__cpu_high\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"cpu_high\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__cpu_high\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: systemresources
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "false"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='cpu_high',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='cpu_high',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: CPU Usage
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='cpu_high',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='cpu_high',severity='error'})\" | first | value) -}}CPU usage is above {{ $threshold | humanizePercentage }}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='systemresources',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __memory_high
        expr: "((max by (systemId, envId) (otcs_resource_memory_used / otcs_resource_memory_total)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"memory_high\"})\n  or (\n    (max by (systemId, envId) (otcs_resource_memory_used / otcs_resource_memory_total)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"memory_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"memory_high\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: memory_high
        expr: "(((max by (systemId, envId) (otcs_resource_memory_used / otcs_resource_memory_total)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"memory_high\"})\n  or (\n    (max by (systemId, envId) (otcs_resource_memory_used / otcs_resource_memory_total)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"memory_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"memory_high\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__memory_high\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"memory_high\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__memory_high\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: systemresources
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "false"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='memory_high',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='memory_high',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Memory Usage
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='memory_high',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='memory_high',severity='warning'})\" | first | value) -}}Memory usage is above {{ $threshold | humanizePercentage}}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='systemresources',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __memory_high
        expr: "((max by (systemId, envId) (otcs_resource_memory_used / otcs_resource_memory_total)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"memory_high\"})\n  or (\n    (max by (systemId, envId) (otcs_resource_memory_used / otcs_resource_memory_total)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"memory_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"memory_high\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: memory_high
        expr: "(((max by (systemId, envId) (otcs_resource_memory_used / otcs_resource_memory_total)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"memory_high\"})\n  or (\n    (max by (systemId, envId) (otcs_resource_memory_used / otcs_resource_memory_total)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"memory_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"memory_high\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__memory_high\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"memory_high\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__memory_high\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: systemresources
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "false"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='memory_high',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='memory_high',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Memory Usage
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='memory_high',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='memory_high',severity='error'})\" | first | value) -}}Memory usage is above {{ $threshold | humanizePercentage}}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='systemresources',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __thread_usage_high
        expr: "((sum by (systemId, envId) (sum_over_time(otcs_thread_busy[5m])) / sum by (systemId, envId) (count_over_time(otcs_thread_busy[5m]))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_usage_high\"})\n  or (\n    (sum by (systemId, envId) (sum_over_time(otcs_thread_busy[5m])) / sum by (systemId, envId) (count_over_time(otcs_thread_busy[5m]))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_usage_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_usage_high\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: thread_usage_high
        expr: "(((sum by (systemId, envId) (sum_over_time(otcs_thread_busy[5m])) / sum by (systemId, envId) (count_over_time(otcs_thread_busy[5m]))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_usage_high\"})\n  or (\n    (sum by (systemId, envId) (sum_over_time(otcs_thread_busy[5m])) / sum by (systemId, envId) (count_over_time(otcs_thread_busy[5m]))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_usage_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_usage_high\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__thread_usage_high\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"thread_usage_high\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__thread_usage_high\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: threadstatus
          componentType: THREADS
        annotations:
          componentType: THREADS
          below: "false"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='thread_usage_high',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='thread_usage_high',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Threads Usage
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='thread_usage_high',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='thread_usage_high',severity='warning'})\" | first | value) -}}Threads usage is above {{ $threshold | humanizePercentage }}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='threadstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __thread_usage_high
        expr: "((sum by (systemId, envId) (sum_over_time(otcs_thread_busy[5m])) / sum by (systemId, envId) (count_over_time(otcs_thread_busy[5m]))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_usage_high\"})\n  or (\n    (sum by (systemId, envId) (sum_over_time(otcs_thread_busy[5m])) / sum by (systemId, envId) (count_over_time(otcs_thread_busy[5m]))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_usage_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_usage_high\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: thread_usage_high
        expr: "(((sum by (systemId, envId) (sum_over_time(otcs_thread_busy[5m])) / sum by (systemId, envId) (count_over_time(otcs_thread_busy[5m]))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_usage_high\"})\n  or (\n    (sum by (systemId, envId) (sum_over_time(otcs_thread_busy[5m])) / sum by (systemId, envId) (count_over_time(otcs_thread_busy[5m]))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_usage_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_usage_high\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__thread_usage_high\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"thread_usage_high\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__thread_usage_high\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: threadstatus
          componentType: THREADS
        annotations:
          componentType: THREADS
          below: "false"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='thread_usage_high',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='thread_usage_high',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Threads Usage
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='thread_usage_high',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='thread_usage_high',severity='error'})\" | first | value) -}}Threads usage is above {{ $threshold | humanizePercentage }}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='threadstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __thread_avg_queue_time_high
        expr: "((avg by (systemId, envId) (otcs_thread_queue_avg + delta(otcs_thread_queue_avg[5m]) * (otcs_thread_request_total / increase(otcs_thread_request_total[5m]) - 1))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_avg_queue_time_high\"})\n  or (\n    (avg by (systemId, envId) (otcs_thread_queue_avg + delta(otcs_thread_queue_avg[5m]) * (otcs_thread_request_total / increase(otcs_thread_request_total[5m]) - 1))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_avg_queue_time_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_avg_queue_time_high\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: thread_avg_queue_time_high
        expr: "(((avg by (systemId, envId) (otcs_thread_queue_avg + delta(otcs_thread_queue_avg[5m]) * (otcs_thread_request_total / increase(otcs_thread_request_total[5m]) - 1))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_avg_queue_time_high\"})\n  or (\n    (avg by (systemId, envId) (otcs_thread_queue_avg + delta(otcs_thread_queue_avg[5m]) * (otcs_thread_request_total / increase(otcs_thread_request_total[5m]) - 1))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_avg_queue_time_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_avg_queue_time_high\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__thread_avg_queue_time_high\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"thread_avg_queue_time_high\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__thread_avg_queue_time_high\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: threadstatus
          componentType: THREADS
        annotations:
          componentType: THREADS
          below: "false"
          units: SECONDS
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='thread_avg_queue_time_high',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='thread_avg_queue_time_high',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Threads queue time
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='thread_avg_queue_time_high',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='thread_avg_queue_time_high',severity='warning'})\" | first | value) -}}Threads average queue time is above {{ $threshold }}s{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='threadstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __thread_avg_queue_time_high
        expr: "((avg by (systemId, envId) (otcs_thread_queue_avg + delta(otcs_thread_queue_avg[5m]) * (otcs_thread_request_total / increase(otcs_thread_request_total[5m]) - 1))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_avg_queue_time_high\"})\n  or (\n    (avg by (systemId, envId) (otcs_thread_queue_avg + delta(otcs_thread_queue_avg[5m]) * (otcs_thread_request_total / increase(otcs_thread_request_total[5m]) - 1))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_avg_queue_time_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_avg_queue_time_high\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: thread_avg_queue_time_high
        expr: "(((avg by (systemId, envId) (otcs_thread_queue_avg + delta(otcs_thread_queue_avg[5m]) * (otcs_thread_request_total / increase(otcs_thread_request_total[5m]) - 1))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_avg_queue_time_high\"})\n  or (\n    (avg by (systemId, envId) (otcs_thread_queue_avg + delta(otcs_thread_queue_avg[5m]) * (otcs_thread_request_total / increase(otcs_thread_request_total[5m]) - 1))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_avg_queue_time_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_avg_queue_time_high\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__thread_avg_queue_time_high\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"thread_avg_queue_time_high\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__thread_avg_queue_time_high\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: threadstatus
          componentType: THREADS
        annotations:
          componentType: THREADS
          below: "false"
          units: SECONDS
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='thread_avg_queue_time_high',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='thread_avg_queue_time_high',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Threads queue time
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='thread_avg_queue_time_high',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='thread_avg_queue_time_high',severity='error'})\" | first | value) -}}Threads average queue time is above {{ $threshold }}s{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='threadstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __thread_avg_execution_time_high
        expr: "((avg by (systemId, envId) (increase(otcs_thread_execution_time_total[5m]) / increase(otcs_thread_request_total[5m]))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_avg_execution_time_high\"})\n  or (\n    (avg by (systemId, envId) (increase(otcs_thread_execution_time_total[5m]) / increase(otcs_thread_request_total[5m]))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_avg_execution_time_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_avg_execution_time_high\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: thread_avg_execution_time_high
        expr: "(((avg by (systemId, envId) (increase(otcs_thread_execution_time_total[5m]) / increase(otcs_thread_request_total[5m]))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_avg_execution_time_high\"})\n  or (\n    (avg by (systemId, envId) (increase(otcs_thread_execution_time_total[5m]) / increase(otcs_thread_request_total[5m]))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_avg_execution_time_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_avg_execution_time_high\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__thread_avg_execution_time_high\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"thread_avg_execution_time_high\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__thread_avg_execution_time_high\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: threadstatus
          componentType: THREADS
        annotations:
          componentType: THREADS
          below: "false"
          units: SECONDS
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='thread_avg_execution_time_high',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='thread_avg_execution_time_high',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Threads avg. request execution time
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='thread_avg_execution_time_high',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='thread_avg_execution_time_high',severity='warning'})\" | first | value) -}}Threads request average execution time is above {{ $threshold }}s{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='threadstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __thread_avg_execution_time_high
        expr: "((avg by (systemId, envId) (increase(otcs_thread_execution_time_total[5m]) / increase(otcs_thread_request_total[5m]))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_avg_execution_time_high\"})\n  or (\n    (avg by (systemId, envId) (increase(otcs_thread_execution_time_total[5m]) / increase(otcs_thread_request_total[5m]))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_avg_execution_time_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_avg_execution_time_high\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: thread_avg_execution_time_high
        expr: "(((avg by (systemId, envId) (increase(otcs_thread_execution_time_total[5m]) / increase(otcs_thread_request_total[5m]))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"thread_avg_execution_time_high\"})\n  or (\n    (avg by (systemId, envId) (increase(otcs_thread_execution_time_total[5m]) / increase(otcs_thread_request_total[5m]))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"thread_avg_execution_time_high\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"thread_avg_execution_time_high\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__thread_avg_execution_time_high\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"thread_avg_execution_time_high\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__thread_avg_execution_time_high\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: threadstatus
          componentType: THREADS
        annotations:
          componentType: THREADS
          below: "false"
          units: SECONDS
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='thread_avg_execution_time_high',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='thread_avg_execution_time_high',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Threads avg. request execution time
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='thread_avg_execution_time_high',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='thread_avg_execution_time_high',severity='error'})\" | first | value) -}}Threads request average execution time is above {{ $threshold }}s{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='threadstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __ll_client_port_available
        expr: "((min by (systemId, envId, componentId, componentName, componentClass) (otcs_ll_client_port_available_ok)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"ll_client_port_available\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otcs_ll_client_port_available_ok)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"ll_client_port_available\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"ll_client_port_available\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: ll_client_port_available
        expr: "(((min by (systemId, envId, componentId, componentName, componentClass) (otcs_ll_client_port_available_ok)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"ll_client_port_available\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otcs_ll_client_port_available_ok)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"ll_client_port_available\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"ll_client_port_available\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__ll_client_port_available\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"ll_client_port_available\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__ll_client_port_available\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: llclientportavailable
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='ll_client_port_available',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='ll_client_port_available',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: LLClient Connection Error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='ll_client_port_available',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='ll_client_port_available',severity='warning'})\" | first | value) -}}Error while connecting to LLClient socket port"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='llclientportavailable',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __ll_client_port_available
        expr: "((min by (systemId, envId, componentId, componentName, componentClass) (otcs_ll_client_port_available_ok)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"ll_client_port_available\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otcs_ll_client_port_available_ok)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"ll_client_port_available\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"ll_client_port_available\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: ll_client_port_available
        expr: "(((min by (systemId, envId, componentId, componentName, componentClass) (otcs_ll_client_port_available_ok)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"ll_client_port_available\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otcs_ll_client_port_available_ok)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"ll_client_port_available\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"ll_client_port_available\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__ll_client_port_available\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"ll_client_port_available\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__ll_client_port_available\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: llclientportavailable
          componentType: SYSTEM
        annotations:
          componentType: SYSTEM
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='ll_client_port_available',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='ll_client_port_available',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: LLClient Connection Error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='ll_client_port_available',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='ll_client_port_available',severity='error'})\" | first | value) -}}Error while connecting to LLClient socket port"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='llclientportavailable',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_extshared_free_space
        expr: "((sum by (envId, componentId, componentName, componentClass) (otcs_storage_provider_disk_space_total{type=\"EXTSHARED\"} - otcs_storage_provider_disk_space_used{type=\"EXTSHARED\"})) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_extshared_free_space\"})\n  or (\n    (sum by (envId, componentId, componentName, componentClass) (otcs_storage_provider_disk_space_total{type=\"EXTSHARED\"} - otcs_storage_provider_disk_space_used{type=\"EXTSHARED\"})) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_extshared_free_space\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_extshared_free_space\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: storage_provider_extshared_free_space
        expr: "(((sum by (envId, componentId, componentName, componentClass) (otcs_storage_provider_disk_space_total{type=\"EXTSHARED\"} - otcs_storage_provider_disk_space_used{type=\"EXTSHARED\"})) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_extshared_free_space\"})\n  or (\n    (sum by (envId, componentId, componentName, componentClass) (otcs_storage_provider_disk_space_total{type=\"EXTSHARED\"} - otcs_storage_provider_disk_space_used{type=\"EXTSHARED\"})) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_extshared_free_space\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_extshared_free_space\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_extshared_free_space\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_extshared_free_space\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_extshared_free_space\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "true"
          units: BYTES
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_extshared_free_space',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_extshared_free_space',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Free Space"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_extshared_free_space',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_extshared_free_space',severity='warning'})\" | first | value) -}}Storage provider \"{{ $labels.componentName }}\" available disk space is below {{ $threshold | humanize1024 }}B{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_extshared_free_space
        expr: "((sum by (envId, componentId, componentName, componentClass) (otcs_storage_provider_disk_space_total{type=\"EXTSHARED\"} - otcs_storage_provider_disk_space_used{type=\"EXTSHARED\"})) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_extshared_free_space\"})\n  or (\n    (sum by (envId, componentId, componentName, componentClass) (otcs_storage_provider_disk_space_total{type=\"EXTSHARED\"} - otcs_storage_provider_disk_space_used{type=\"EXTSHARED\"})) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_extshared_free_space\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_extshared_free_space\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: storage_provider_extshared_free_space
        expr: "(((sum by (envId, componentId, componentName, componentClass) (otcs_storage_provider_disk_space_total{type=\"EXTSHARED\"} - otcs_storage_provider_disk_space_used{type=\"EXTSHARED\"})) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_extshared_free_space\"})\n  or (\n    (sum by (envId, componentId, componentName, componentClass) (otcs_storage_provider_disk_space_total{type=\"EXTSHARED\"} - otcs_storage_provider_disk_space_used{type=\"EXTSHARED\"})) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_extshared_free_space\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_extshared_free_space\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_extshared_free_space\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_extshared_free_space\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_extshared_free_space\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "true"
          units: BYTES
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_extshared_free_space',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_extshared_free_space',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Free Space"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_extshared_free_space',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_extshared_free_space',severity='error'})\" | first | value) -}}Storage provider \"{{ $labels.componentName }}\" available disk space is below {{ $threshold | humanize1024 }}B{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_extshared_cant_write
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_can_write{type=\"EXTSHARED\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_extshared_cant_write\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_can_write{type=\"EXTSHARED\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_extshared_cant_write\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_extshared_cant_write\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: storage_provider_extshared_cant_write
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_can_write{type=\"EXTSHARED\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_extshared_cant_write\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_can_write{type=\"EXTSHARED\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_extshared_cant_write\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_extshared_cant_write\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_extshared_cant_write\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_extshared_cant_write\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_extshared_cant_write\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_extshared_cant_write',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_extshared_cant_write',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Write Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_extshared_cant_write',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_extshared_cant_write',severity='warning'})\" | first | value) -}}Error while writing to storage provider \"{{ $labels.componentName }}\"{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_extshared_cant_write
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_can_write{type=\"EXTSHARED\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_extshared_cant_write\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_can_write{type=\"EXTSHARED\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_extshared_cant_write\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_extshared_cant_write\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: storage_provider_extshared_cant_write
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_can_write{type=\"EXTSHARED\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_extshared_cant_write\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_can_write{type=\"EXTSHARED\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_extshared_cant_write\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_extshared_cant_write\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_extshared_cant_write\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_extshared_cant_write\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_extshared_cant_write\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_extshared_cant_write',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_extshared_cant_write',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Write Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_extshared_cant_write',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_extshared_cant_write',severity='error'})\" | first | value) -}}Error while writing to storage provider \"{{ $labels.componentName }}\"{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_extshared_write_performance
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"EXTSHARED\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_extshared_write_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"EXTSHARED\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_extshared_write_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_extshared_write_performance\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: storage_provider_extshared_write_performance
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"EXTSHARED\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_extshared_write_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"EXTSHARED\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_extshared_write_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_extshared_write_performance\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_extshared_write_performance\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_extshared_write_performance\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_extshared_write_performance\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "true"
          units: BYTES
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_extshared_write_performance',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_extshared_write_performance',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Write Performance"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_extshared_write_performance',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_extshared_write_performance',severity='warning'})\" | first | value) -}}Storage provider \"{{ $labels.componentName }}\" write performance is below {{ $threshold | humanize1024 }}B/s{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_extshared_write_performance
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"EXTSHARED\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_extshared_write_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"EXTSHARED\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_extshared_write_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_extshared_write_performance\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: storage_provider_extshared_write_performance
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"EXTSHARED\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_extshared_write_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"EXTSHARED\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_extshared_write_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_extshared_write_performance\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_extshared_write_performance\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_extshared_write_performance\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_extshared_write_performance\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "true"
          units: BYTES
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_extshared_write_performance',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_extshared_write_performance',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Write Performance"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_extshared_write_performance',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_extshared_write_performance',severity='error'})\" | first | value) -}}Storage provider \"{{ $labels.componentName }}\" write performance is below {{ $threshold | humanize1024 }}B/s{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_extshared_read_performance
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"EXTSHARED\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_extshared_read_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"EXTSHARED\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_extshared_read_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_extshared_read_performance\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: storage_provider_extshared_read_performance
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"EXTSHARED\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_extshared_read_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"EXTSHARED\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_extshared_read_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_extshared_read_performance\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_extshared_read_performance\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_extshared_read_performance\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_extshared_read_performance\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "true"
          units: BYTES
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_extshared_read_performance',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_extshared_read_performance',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Read Performance"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_extshared_read_performance',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_extshared_read_performance',severity='warning'})\" | first | value) -}}Storage provider \"{{ $labels.componentName }}\" read performance is below {{ $threshold | humanize1024 }}B/s{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_extshared_read_performance
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"EXTSHARED\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_extshared_read_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"EXTSHARED\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_extshared_read_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_extshared_read_performance\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: storage_provider_extshared_read_performance
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"EXTSHARED\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_extshared_read_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"EXTSHARED\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_extshared_read_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_extshared_read_performance\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_extshared_read_performance\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_extshared_read_performance\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_extshared_read_performance\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "true"
          units: BYTES
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_extshared_read_performance',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_extshared_read_performance',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Read Performance"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_extshared_read_performance',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_extshared_read_performance',severity='error'})\" | first | value) -}}Storage provider \"{{ $labels.componentName }}\" read performance is below {{ $threshold | humanize1024 }}B/s{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_entreprisearchive_cant_write
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_can_write{type=\"ENTERPRISEARCHIVE\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_cant_write\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_can_write{type=\"ENTERPRISEARCHIVE\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_cant_write\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_entreprisearchive_cant_write\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: storage_provider_entreprisearchive_cant_write
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_can_write{type=\"ENTERPRISEARCHIVE\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_cant_write\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_can_write{type=\"ENTERPRISEARCHIVE\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_cant_write\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_entreprisearchive_cant_write\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_entreprisearchive_cant_write\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_entreprisearchive_cant_write\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_entreprisearchive_cant_write\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_entreprisearchive_cant_write',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_entreprisearchive_cant_write',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Write Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_entreprisearchive_cant_write',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_entreprisearchive_cant_write',severity='warning'})\" | first | value) -}}Error while writing to storage provider \"{{ $labels.componentName }}\"{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }} "
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_entreprisearchive_cant_write
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_can_write{type=\"ENTERPRISEARCHIVE\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_cant_write\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_can_write{type=\"ENTERPRISEARCHIVE\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_cant_write\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_entreprisearchive_cant_write\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: storage_provider_entreprisearchive_cant_write
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_can_write{type=\"ENTERPRISEARCHIVE\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_cant_write\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_can_write{type=\"ENTERPRISEARCHIVE\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_cant_write\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_entreprisearchive_cant_write\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_entreprisearchive_cant_write\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_entreprisearchive_cant_write\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_entreprisearchive_cant_write\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_entreprisearchive_cant_write',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_entreprisearchive_cant_write',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Write Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_entreprisearchive_cant_write',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_entreprisearchive_cant_write',severity='error'})\" | first | value) -}}Error while writing to storage provider \"{{ $labels.componentName }}\"{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }} "
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_entreprisearchive_write_performance
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"ENTERPRISEARCHIVE\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_write_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"ENTERPRISEARCHIVE\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_write_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_entreprisearchive_write_performance\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: storage_provider_entreprisearchive_write_performance
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"ENTERPRISEARCHIVE\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_write_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"ENTERPRISEARCHIVE\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_write_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_entreprisearchive_write_performance\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_entreprisearchive_write_performance\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_entreprisearchive_write_performance\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_entreprisearchive_write_performance\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "true"
          units: BYTES
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_entreprisearchive_write_performance',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_entreprisearchive_write_performance',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Write Performance"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_entreprisearchive_write_performance',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_entreprisearchive_write_performance',severity='warning'})\" | first | value) -}}Storage provider \"{{ $labels.componentName }}\" write performance is below {{ $threshold | humanize1024 }}B/s{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_entreprisearchive_write_performance
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"ENTERPRISEARCHIVE\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_write_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"ENTERPRISEARCHIVE\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_write_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_entreprisearchive_write_performance\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: storage_provider_entreprisearchive_write_performance
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"ENTERPRISEARCHIVE\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_write_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"ENTERPRISEARCHIVE\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_write_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_entreprisearchive_write_performance\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_entreprisearchive_write_performance\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_entreprisearchive_write_performance\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_entreprisearchive_write_performance\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "true"
          units: BYTES
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_entreprisearchive_write_performance',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_entreprisearchive_write_performance',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Write Performance"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_entreprisearchive_write_performance',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_entreprisearchive_write_performance',severity='error'})\" | first | value) -}}Storage provider \"{{ $labels.componentName }}\" write performance is below {{ $threshold | humanize1024 }}B/s{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_entreprisearchive_read_performance
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"ENTERPRISEARCHIVE\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_read_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"ENTERPRISEARCHIVE\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_read_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_entreprisearchive_read_performance\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: storage_provider_entreprisearchive_read_performance
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"ENTERPRISEARCHIVE\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_read_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"ENTERPRISEARCHIVE\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_read_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_entreprisearchive_read_performance\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_entreprisearchive_read_performance\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_entreprisearchive_read_performance\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_entreprisearchive_read_performance\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "true"
          units: BYTES
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_entreprisearchive_read_performance',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_entreprisearchive_read_performance',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Read Performance"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_entreprisearchive_read_performance',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_entreprisearchive_read_performance',severity='warning'})\" | first | value) -}}Storage provider \"{{ $labels.componentName }}\" read performance is below {{ $threshold | humanize1024 }}B/s{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_entreprisearchive_read_performance
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"ENTERPRISEARCHIVE\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_read_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"ENTERPRISEARCHIVE\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_read_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_entreprisearchive_read_performance\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: storage_provider_entreprisearchive_read_performance
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"ENTERPRISEARCHIVE\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_read_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"ENTERPRISEARCHIVE\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_entreprisearchive_read_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_entreprisearchive_read_performance\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_entreprisearchive_read_performance\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_entreprisearchive_read_performance\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_entreprisearchive_read_performance\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "true"
          units: BYTES
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_entreprisearchive_read_performance',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_entreprisearchive_read_performance',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Read Performance"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_entreprisearchive_read_performance',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_entreprisearchive_read_performance',severity='error'})\" | first | value) -}}Storage provider \"{{ $labels.componentName }}\" read performance is below {{ $threshold | humanize1024 }}B/s{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_rdbms_write_performance
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"RDBMS\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_rdbms_write_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"RDBMS\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_rdbms_write_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_rdbms_write_performance\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: storage_provider_rdbms_write_performance
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"RDBMS\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_rdbms_write_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"RDBMS\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_rdbms_write_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_rdbms_write_performance\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_rdbms_write_performance\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_rdbms_write_performance\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_rdbms_write_performance\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "true"
          units: BYTES
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_rdbms_write_performance',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_rdbms_write_performance',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Write Performance"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_rdbms_write_performance',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_rdbms_write_performance',severity='warning'})\" | first | value) -}}Storage provider \"{{ $labels.componentName }}\" write performance is below {{ $threshold | humanize1024 }}B/s{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_rdbms_write_performance
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"RDBMS\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_rdbms_write_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"RDBMS\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_rdbms_write_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_rdbms_write_performance\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: storage_provider_rdbms_write_performance
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"RDBMS\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_rdbms_write_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_write_throughput{type=\"RDBMS\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_rdbms_write_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_rdbms_write_performance\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_rdbms_write_performance\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_rdbms_write_performance\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_rdbms_write_performance\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "true"
          units: BYTES
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_rdbms_write_performance',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_rdbms_write_performance',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Write Performance"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_rdbms_write_performance',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_rdbms_write_performance',severity='error'})\" | first | value) -}}Storage provider \"{{ $labels.componentName }}\" write performance is below {{ $threshold | humanize1024 }}B/s{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_rdbms_read_performance
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"RDBMS\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_rdbms_read_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"RDBMS\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_rdbms_read_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_rdbms_read_performance\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: storage_provider_rdbms_read_performance
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"RDBMS\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_rdbms_read_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"RDBMS\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_rdbms_read_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_rdbms_read_performance\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_rdbms_read_performance\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_rdbms_read_performance\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_rdbms_read_performance\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "true"
          units: BYTES
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_rdbms_read_performance',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_rdbms_read_performance',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Read Performance"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_rdbms_read_performance',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_rdbms_read_performance',severity='warning'})\" | first | value) -}}Storage provider \"{{ $labels.componentName }}\" read performance is below {{ $threshold | humanize1024 }}B/s{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __storage_provider_rdbms_read_performance
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"RDBMS\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_rdbms_read_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"RDBMS\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_rdbms_read_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_rdbms_read_performance\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: storage_provider_rdbms_read_performance
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"RDBMS\"}) * 1024 * 1024) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"storage_provider_rdbms_read_performance\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_read_throughput{type=\"RDBMS\"}) * 1024 * 1024) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"storage_provider_rdbms_read_performance\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"storage_provider_rdbms_read_performance\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__storage_provider_rdbms_read_performance\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"storage_provider_rdbms_read_performance\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__storage_provider_rdbms_read_performance\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "true"
          units: BYTES
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='storage_provider_rdbms_read_performance',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='storage_provider_rdbms_read_performance',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" Read Performance"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='storage_provider_rdbms_read_performance',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='storage_provider_rdbms_read_performance',severity='error'})\" | first | value) -}}Storage provider \"{{ $labels.componentName }}\" read performance is below {{ $threshold | humanize1024 }}B/s{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __fuse_client_otcs_sp_test_binary
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_test_binary{type=\"EXTSHARED\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"fuse_client_otcs_sp_test_binary\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_test_binary{type=\"EXTSHARED\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"fuse_client_otcs_sp_test_binary\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"fuse_client_otcs_sp_test_binary\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: fuse_client_otcs_sp_test_binary
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_test_binary{type=\"EXTSHARED\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"fuse_client_otcs_sp_test_binary\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_test_binary{type=\"EXTSHARED\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"fuse_client_otcs_sp_test_binary\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"fuse_client_otcs_sp_test_binary\",severity=\"warning\"}))) and (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__fuse_client_otcs_sp_test_binary\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"fuse_client_otcs_sp_test_binary\",severity=\"warning\"}))) and\nmin without (alertname, severity, alertstate) (ALERTS{alertname=\"__fuse_client_otcs_sp_test_binary\",severity=\"warning\"}))"
        labels:
          adminAlert: "true"
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='fuse_client_otcs_sp_test_binary',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='fuse_client_otcs_sp_test_binary',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" node version error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='fuse_client_otcs_sp_test_binary',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='fuse_client_otcs_sp_test_binary',severity='warning'})\" | first | value) -}}The test node used for Storage Provider probing has version errors. Please, manually delete the node named with this System ID from the 'Staging' folder within the Fuse Volume."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __fuse_client_otcs_sp_test_binary
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_test_binary{type=\"EXTSHARED\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"fuse_client_otcs_sp_test_binary\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_test_binary{type=\"EXTSHARED\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"fuse_client_otcs_sp_test_binary\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"fuse_client_otcs_sp_test_binary\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: fuse_client_otcs_sp_test_binary
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_test_binary{type=\"EXTSHARED\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"fuse_client_otcs_sp_test_binary\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otcs_storage_provider_test_binary{type=\"EXTSHARED\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"fuse_client_otcs_sp_test_binary\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"fuse_client_otcs_sp_test_binary\",severity=\"error\"}))) and (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__fuse_client_otcs_sp_test_binary\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"fuse_client_otcs_sp_test_binary\",severity=\"error\"}))) and\nmin without (alertname, severity, alertstate) (ALERTS{alertname=\"__fuse_client_otcs_sp_test_binary\",severity=\"error\"}))"
        labels:
          adminAlert: "true"
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: spstatus
          componentType: STORAGE_PROVIDERS
        annotations:
          componentType: STORAGE_PROVIDERS
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='fuse_client_otcs_sp_test_binary',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='fuse_client_otcs_sp_test_binary',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Provider \"{{ $labels.componentName }}\" node version error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='fuse_client_otcs_sp_test_binary',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='fuse_client_otcs_sp_test_binary',severity='error'})\" | first | value) -}}The test node used for Storage Provider probing has version errors. Please, manually delete the node named with this System ID from the 'Staging' folder within the Fuse Volume."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='spstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_processes_status_idle
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == 0) and on (envId) (max by (envId) (otcs_sov_admserv_safe_mode) == 0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_idle\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == 0) and on (envId) (max by (envId) (otcs_sov_admserv_safe_mode) == 0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_idle\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_idle\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_processes_status_idle
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == 0) and on (envId) (max by (envId) (otcs_sov_admserv_safe_mode) == 0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_idle\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == 0) and on (envId) (max by (envId) (otcs_sov_admserv_safe_mode) == 0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_idle\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_idle\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_processes_status_idle\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_processes_status_idle\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_processes_status_idle\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_processes_status_idle',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_processes_status_idle',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "SOV Process \"{{ $labels.componentName }}\" is Idle"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_processes_status_idle',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_processes_status_idle',severity='warning'})\" | first | value) -}}SOV process \"{{ $labels.componentName }}\" is idle to Admin Server{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_processes_status_idle
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == 0) and on (envId) (max by (envId) (otcs_sov_admserv_safe_mode) == 0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_idle\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == 0) and on (envId) (max by (envId) (otcs_sov_admserv_safe_mode) == 0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_idle\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_idle\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_processes_status_idle
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == 0) and on (envId) (max by (envId) (otcs_sov_admserv_safe_mode) == 0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_idle\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == 0) and on (envId) (max by (envId) (otcs_sov_admserv_safe_mode) == 0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_idle\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_idle\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_processes_status_idle\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_processes_status_idle\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_processes_status_idle\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_processes_status_idle',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_processes_status_idle',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "SOV Process \"{{ $labels.componentName }}\" is Idle"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_processes_status_idle',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_processes_status_idle',severity='error'})\" | first | value) -}}SOV process \"{{ $labels.componentName }}\" is idle to Admin Server{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_processes_status_unknown
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -1)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_unknown\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -1)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_unknown\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_unknown\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_processes_status_unknown
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -1)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_unknown\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -1)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_unknown\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_unknown\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_processes_status_unknown\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_processes_status_unknown\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_processes_status_unknown\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_processes_status_unknown',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_processes_status_unknown',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "SOV Process \"{{ $labels.componentName }}\" Unknown Status"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_processes_status_unknown',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_processes_status_unknown',severity='warning'})\" | first | value) -}}SOV process \"{{ $labels.componentName }}\" is unknown to Admin Server{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_processes_status_unknown
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -1)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_unknown\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -1)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_unknown\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_unknown\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_processes_status_unknown
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -1)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_unknown\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -1)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_unknown\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_unknown\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_processes_status_unknown\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_processes_status_unknown\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_processes_status_unknown\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_processes_status_unknown',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_processes_status_unknown',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "SOV Process \"{{ $labels.componentName }}\" Unknown Status"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_processes_status_unknown',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_processes_status_unknown',severity='error'})\" | first | value) -}}SOV process \"{{ $labels.componentName }}\" is unknown to Admin Server{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_processes_status_error
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -2)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_error\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -2)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_error\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_error\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_processes_status_error
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -2)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_error\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -2)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_error\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_error\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_processes_status_error\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_processes_status_error\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_processes_status_error\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_processes_status_error',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_processes_status_error',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "SOV Process \"{{ $labels.componentName }}\" Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_processes_status_error',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_processes_status_error',severity='warning'})\" | first | value) -}}SOV process \"{{ $labels.componentName }}\" is in error state{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_processes_status_error
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -2)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_error\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -2)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_error\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_error\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_processes_status_error
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -2)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_error\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -2)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_error\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_error\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_processes_status_error\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_processes_status_error\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_processes_status_error\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_processes_status_error',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_processes_status_error',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "SOV Process \"{{ $labels.componentName }}\" Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_processes_status_error',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_processes_status_error',severity='error'})\" | first | value) -}}SOV process \"{{ $labels.componentName }}\" is in error state{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_processes_status_admin_server_error
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -3)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_admin_server_error\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -3)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_admin_server_error\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_admin_server_error\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_processes_status_admin_server_error
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -3)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_admin_server_error\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -3)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_admin_server_error\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_admin_server_error\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_processes_status_admin_server_error\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_processes_status_admin_server_error\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_processes_status_admin_server_error\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_processes_status_admin_server_error',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_processes_status_admin_server_error',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: SOV Process Admin Server Error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_processes_status_admin_server_error',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_processes_status_admin_server_error',severity='warning'})\" | first | value) -}}SOV process Admin Server error{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_processes_status_admin_server_error
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -3)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_admin_server_error\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -3)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_admin_server_error\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_admin_server_error\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_processes_status_admin_server_error
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -3)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_admin_server_error\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -3)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_admin_server_error\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_admin_server_error\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_processes_status_admin_server_error\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_processes_status_admin_server_error\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_processes_status_admin_server_error\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_processes_status_admin_server_error',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_processes_status_admin_server_error',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: SOV Process Admin Server Error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_processes_status_admin_server_error',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_processes_status_admin_server_error',severity='error'})\" | first | value) -}}SOV process Admin Server error{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_processes_status_not_exist
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -4) and on (envId) (max by (envId) (otcs_sov_admserv_safe_mode) == 0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_not_exist\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -4) and on (envId) (max by (envId) (otcs_sov_admserv_safe_mode) == 0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_not_exist\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_not_exist\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_processes_status_not_exist
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -4) and on (envId) (max by (envId) (otcs_sov_admserv_safe_mode) == 0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_not_exist\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -4) and on (envId) (max by (envId) (otcs_sov_admserv_safe_mode) == 0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_not_exist\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_not_exist\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_processes_status_not_exist\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_processes_status_not_exist\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_processes_status_not_exist\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_processes_status_not_exist',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_processes_status_not_exist',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "SOV Process \"{{ $labels.componentName }}\" Does Not Exist"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_processes_status_not_exist',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_processes_status_not_exist',severity='warning'})\" | first | value) -}}SOV process \"{{ $labels.componentName }}\" does not exist on Admin server{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_processes_status_not_exist
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -4) and on (envId) (max by (envId) (otcs_sov_admserv_safe_mode) == 0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_not_exist\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -4) and on (envId) (max by (envId) (otcs_sov_admserv_safe_mode) == 0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_not_exist\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_not_exist\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_processes_status_not_exist
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -4) and on (envId) (max by (envId) (otcs_sov_admserv_safe_mode) == 0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_not_exist\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -4) and on (envId) (max by (envId) (otcs_sov_admserv_safe_mode) == 0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_not_exist\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_not_exist\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_processes_status_not_exist\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_processes_status_not_exist\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_processes_status_not_exist\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_processes_status_not_exist',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_processes_status_not_exist',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "SOV Process \"{{ $labels.componentName }}\" Does Not Exist"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_processes_status_not_exist',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_processes_status_not_exist',severity='error'})\" | first | value) -}}SOV process \"{{ $labels.componentName }}\" does not exist on Admin server{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_processes_status_error_11
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -11)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_error_11\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -11)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_error_11\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_error_11\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_processes_status_error_11
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -11)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_error_11\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -11)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_error_11\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_error_11\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_processes_status_error_11\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_processes_status_error_11\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_processes_status_error_11\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_processes_status_error_11',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_processes_status_error_11',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "SOV Process \"{{ $labels.componentName }}\" Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_processes_status_error_11',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_processes_status_error_11',severity='warning'})\" | first | value) -}}SOV process \"{{ $labels.componentName }}\" error{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_processes_status_error_11
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -11)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_error_11\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -11)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_error_11\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_error_11\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_processes_status_error_11
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -11)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_processes_status_error_11\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_processes_status == -11)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_processes_status_error_11\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_processes_status_error_11\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_processes_status_error_11\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_processes_status_error_11\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_processes_status_error_11\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_processes_status_error_11',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_processes_status_error_11',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "SOV Process \"{{ $labels.componentName }}\" Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_processes_status_error_11',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_processes_status_error_11',severity='error'})\" | first | value) -}}SOV process \"{{ $labels.componentName }}\" error{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_admserv_active
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_sov_admserv_active)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_admserv_active\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_admserv_active)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_admserv_active\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_admserv_active\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_admserv_active
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_sov_admserv_active)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_admserv_active\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_admserv_active)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_admserv_active\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_admserv_active\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_admserv_active\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_admserv_active\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_admserv_active\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_admserv_active',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_admserv_active',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Admin Server \"{{ $labels.componentName }}\" is Offline"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_admserv_active',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_admserv_active',severity='warning'})\" | first | value) -}}Admin Server \"{{ $labels.componentName }}\" is offline{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_admserv_active
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_sov_admserv_active)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_admserv_active\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_admserv_active)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_admserv_active\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_admserv_active\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_admserv_active
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_sov_admserv_active)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_admserv_active\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_admserv_active)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_admserv_active\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_admserv_active\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_admserv_active\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_admserv_active\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_admserv_active\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_admserv_active',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_admserv_active',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Admin Server \"{{ $labels.componentName }}\" is Offline"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_admserv_active',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_admserv_active',severity='error'})\" | first | value) -}}Admin Server \"{{ $labels.componentName }}\" is offline{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_admserv_safe_mode
        expr: "((min by (envId, componentId, componentName, componentClass) (otcs_sov_admserv_safe_mode)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_admserv_safe_mode\"})\n  or (\n    (min by (envId, componentId, componentName, componentClass) (otcs_sov_admserv_safe_mode)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_admserv_safe_mode\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_admserv_safe_mode\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_admserv_safe_mode
        expr: "(((min by (envId, componentId, componentName, componentClass) (otcs_sov_admserv_safe_mode)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_admserv_safe_mode\"})\n  or (\n    (min by (envId, componentId, componentName, componentClass) (otcs_sov_admserv_safe_mode)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_admserv_safe_mode\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_admserv_safe_mode\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_admserv_safe_mode\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_admserv_safe_mode\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_admserv_safe_mode\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_admserv_safe_mode',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_admserv_safe_mode',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Admin Server \"{{ $labels.componentName }}\" is in Safe Mode"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_admserv_safe_mode',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_admserv_safe_mode',severity='warning'})\" | first | value) -}}Admin Server \"{{ $labels.componentName }}\" is in safe mode{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_admserv_safe_mode
        expr: "((min by (envId, componentId, componentName, componentClass) (otcs_sov_admserv_safe_mode)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_admserv_safe_mode\"})\n  or (\n    (min by (envId, componentId, componentName, componentClass) (otcs_sov_admserv_safe_mode)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_admserv_safe_mode\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_admserv_safe_mode\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_admserv_safe_mode
        expr: "(((min by (envId, componentId, componentName, componentClass) (otcs_sov_admserv_safe_mode)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_admserv_safe_mode\"})\n  or (\n    (min by (envId, componentId, componentName, componentClass) (otcs_sov_admserv_safe_mode)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_admserv_safe_mode\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_admserv_safe_mode\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_admserv_safe_mode\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_admserv_safe_mode\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_admserv_safe_mode\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_admserv_safe_mode',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_admserv_safe_mode',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Admin Server \"{{ $labels.componentName }}\" is in Safe Mode"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_admserv_safe_mode',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_admserv_safe_mode',severity='error'})\" | first | value) -}}Admin Server \"{{ $labels.componentName }}\" is in safe mode{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_partition_unavailable
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_available)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_unavailable\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_available)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_unavailable\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_unavailable\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_partition_unavailable
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_available)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_unavailable\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_available)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_unavailable\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_unavailable\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_partition_unavailable\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_partition_unavailable\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_partition_unavailable\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_partition_unavailable',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_partition_unavailable',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Partition \"{{ $labels.componentName }}\" is Unavailable"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_partition_unavailable',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_partition_unavailable',severity='warning'})\" | first | value) -}}Partition \"{{ $labels.componentName }}\" is unavailable{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_partition_unavailable
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_available)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_unavailable\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_available)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_unavailable\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_unavailable\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_partition_unavailable
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_available)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_unavailable\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_available)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_unavailable\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_unavailable\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_partition_unavailable\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_partition_unavailable\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_partition_unavailable\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_partition_unavailable',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_partition_unavailable',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Partition \"{{ $labels.componentName }}\" is Unavailable"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_partition_unavailable',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_partition_unavailable',severity='error'})\" | first | value) -}}Partition \"{{ $labels.componentName }}\" is unavailable{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_partition_almost_full
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_state) == 1) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_almost_full\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_state) == 1) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_almost_full\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_almost_full\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_partition_almost_full
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_state) == 1) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_almost_full\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_state) == 1) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_almost_full\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_almost_full\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_partition_almost_full\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_partition_almost_full\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_partition_almost_full\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_partition_almost_full',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_partition_almost_full',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Partition \"{{ $labels.componentName }}\" is Almost Full"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_partition_almost_full',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_partition_almost_full',severity='warning'})\" | first | value) -}}Partition \"{{ $labels.componentName }}\" is almost reaching the maximum capacity defined in this Partition Settings{{ if $forSeconds }} ,for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_partition_almost_full
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_state) == 1) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_almost_full\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_state) == 1) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_almost_full\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_almost_full\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_partition_almost_full
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_state) == 1) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_almost_full\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_state) == 1) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_almost_full\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_almost_full\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_partition_almost_full\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_partition_almost_full\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_partition_almost_full\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_partition_almost_full',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_partition_almost_full',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Partition \"{{ $labels.componentName }}\" is Almost Full"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_partition_almost_full',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_partition_almost_full',severity='error'})\" | first | value) -}}Partition \"{{ $labels.componentName }}\" is almost reaching the maximum capacity defined in this Partition Settings{{ if $forSeconds }} ,for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_search_unavailable
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_sov_search_available)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_search_unavailable\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_search_available)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_search_unavailable\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_search_unavailable\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_search_unavailable
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_sov_search_available)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_search_unavailable\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_search_available)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_search_unavailable\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_search_unavailable\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_search_unavailable\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_search_unavailable\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_search_unavailable\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: searchstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_search_unavailable',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_search_unavailable',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Search is not Available
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_search_unavailable',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_search_unavailable',severity='warning'})\" | first | value) -}}Search service features are not available {{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='searchstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_search_unavailable
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_sov_search_available)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_search_unavailable\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_search_available)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_search_unavailable\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_search_unavailable\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_search_unavailable
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_sov_search_available)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_search_unavailable\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_search_available)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_search_unavailable\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_search_unavailable\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_search_unavailable\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_search_unavailable\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_search_unavailable\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: searchstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_search_unavailable',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_search_unavailable',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Search is not Available
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_search_unavailable',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_search_unavailable',severity='error'})\" | first | value) -}}Search service features are not available {{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='searchstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_partition_missing_index_process
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_missing_index_process)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_missing_index_process\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_missing_index_process)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_missing_index_process\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_missing_index_process\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_partition_missing_index_process
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_missing_index_process)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_missing_index_process\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_missing_index_process)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_missing_index_process\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_missing_index_process\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_partition_missing_index_process\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_partition_missing_index_process\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_partition_missing_index_process\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_partition_missing_index_process',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_partition_missing_index_process',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Missing Index Process
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_partition_missing_index_process',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_partition_missing_index_process',severity='warning'})\" | first | value) -}}Missing index process for \"{{ $labels.componentName }}\""
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_partition_missing_index_process
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_missing_index_process)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_missing_index_process\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_missing_index_process)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_missing_index_process\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_missing_index_process\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_partition_missing_index_process
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_missing_index_process)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_missing_index_process\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_missing_index_process)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_missing_index_process\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_missing_index_process\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_partition_missing_index_process\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_partition_missing_index_process\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_partition_missing_index_process\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_partition_missing_index_process',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_partition_missing_index_process',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Missing Index Process
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_partition_missing_index_process',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_partition_missing_index_process',severity='error'})\" | first | value) -}}Missing index process for \"{{ $labels.componentName }}\""
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_partition_missing_search_process
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_missing_search_process)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_missing_search_process\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_missing_search_process)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_missing_search_process\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_missing_search_process\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_partition_missing_search_process
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_missing_search_process)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_missing_search_process\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_missing_search_process)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_missing_search_process\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_missing_search_process\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_partition_missing_search_process\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_partition_missing_search_process\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_partition_missing_search_process\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_partition_missing_search_process',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_partition_missing_search_process',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Missing Search Process
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_partition_missing_search_process',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_partition_missing_search_process',severity='warning'})\" | first | value) -}}Missing search process for \"{{ $labels.componentName }}\""
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_partition_missing_search_process
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_missing_search_process)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_missing_search_process\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_missing_search_process)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_missing_search_process\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_missing_search_process\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_partition_missing_search_process
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_missing_search_process)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_partition_missing_search_process\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_partition_missing_search_process)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_partition_missing_search_process\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"sov_partition_missing_search_process\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_partition_missing_search_process\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_partition_missing_search_process\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_partition_missing_search_process\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_partition_missing_search_process',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_partition_missing_search_process',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Missing Search Process
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_partition_missing_search_process',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_partition_missing_search_process',severity='error'})\" | first | value) -}}Missing search process for \"{{ $labels.componentName }}\""
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __queuetables_d_tree_notify
        expr: "((max by (envId) ((sgn(idelta(otcs_queuetables_d_tree_notify[5m])) >= 0 and otcs_queuetables_d_tree_notify > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_d_tree_notify\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_d_tree_notify[5m])) >= 0 and otcs_queuetables_d_tree_notify > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_d_tree_notify\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_d_tree_notify\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: queuetables_d_tree_notify
        expr: "(((max by (envId) ((sgn(idelta(otcs_queuetables_d_tree_notify[5m])) >= 0 and otcs_queuetables_d_tree_notify > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_d_tree_notify\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_d_tree_notify[5m])) >= 0 and otcs_queuetables_d_tree_notify > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_d_tree_notify\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_d_tree_notify\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__queuetables_d_tree_notify\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"queuetables_d_tree_notify\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__queuetables_d_tree_notify\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: queuetablesstatus
          componentType: QUEUE_TABLES
        annotations:
          componentType: QUEUE_TABLES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='queuetables_d_tree_notify',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='queuetables_d_tree_notify',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Queue Table DTreeNotify Object Processing Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='queuetables_d_tree_notify',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='queuetables_d_tree_notify',severity='warning'})\" | first | value) -}}Queue table DTreeNotify is not being flushed and/or is increasing{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='queuetablesstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __queuetables_d_tree_notify
        expr: "((max by (envId) ((sgn(idelta(otcs_queuetables_d_tree_notify[5m])) >= 0 and otcs_queuetables_d_tree_notify > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_d_tree_notify\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_d_tree_notify[5m])) >= 0 and otcs_queuetables_d_tree_notify > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_d_tree_notify\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_d_tree_notify\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: queuetables_d_tree_notify
        expr: "(((max by (envId) ((sgn(idelta(otcs_queuetables_d_tree_notify[5m])) >= 0 and otcs_queuetables_d_tree_notify > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_d_tree_notify\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_d_tree_notify[5m])) >= 0 and otcs_queuetables_d_tree_notify > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_d_tree_notify\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_d_tree_notify\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__queuetables_d_tree_notify\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"queuetables_d_tree_notify\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__queuetables_d_tree_notify\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: queuetablesstatus
          componentType: QUEUE_TABLES
        annotations:
          componentType: QUEUE_TABLES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='queuetables_d_tree_notify',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='queuetables_d_tree_notify',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Queue Table DTreeNotify Object Processing Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='queuetables_d_tree_notify',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='queuetables_d_tree_notify',severity='error'})\" | first | value) -}}Queue table DTreeNotify is not being flushed and/or is increasing{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='queuetablesstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __queuetables_ll_event_queue
        expr: "((max by (envId) ((sgn(idelta(otcs_queuetables_ll_event_queue[5m])) >= 0 and otcs_queuetables_ll_event_queue > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_ll_event_queue\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_ll_event_queue[5m])) >= 0 and otcs_queuetables_ll_event_queue > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_ll_event_queue\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_ll_event_queue\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: queuetables_ll_event_queue
        expr: "(((max by (envId) ((sgn(idelta(otcs_queuetables_ll_event_queue[5m])) >= 0 and otcs_queuetables_ll_event_queue > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_ll_event_queue\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_ll_event_queue[5m])) >= 0 and otcs_queuetables_ll_event_queue > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_ll_event_queue\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_ll_event_queue\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__queuetables_ll_event_queue\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"queuetables_ll_event_queue\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__queuetables_ll_event_queue\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: queuetablesstatus
          componentType: QUEUE_TABLES
        annotations:
          componentType: QUEUE_TABLES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='queuetables_ll_event_queue',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='queuetables_ll_event_queue',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Queue Table LLEvent Object Processing Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='queuetables_ll_event_queue',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='queuetables_ll_event_queue',severity='warning'})\" | first | value) -}}Queue table LLEvent is not being flushed and/or is increasing{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='queuetablesstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __queuetables_ll_event_queue
        expr: "((max by (envId) ((sgn(idelta(otcs_queuetables_ll_event_queue[5m])) >= 0 and otcs_queuetables_ll_event_queue > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_ll_event_queue\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_ll_event_queue[5m])) >= 0 and otcs_queuetables_ll_event_queue > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_ll_event_queue\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_ll_event_queue\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: queuetables_ll_event_queue
        expr: "(((max by (envId) ((sgn(idelta(otcs_queuetables_ll_event_queue[5m])) >= 0 and otcs_queuetables_ll_event_queue > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_ll_event_queue\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_ll_event_queue[5m])) >= 0 and otcs_queuetables_ll_event_queue > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_ll_event_queue\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_ll_event_queue\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__queuetables_ll_event_queue\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"queuetables_ll_event_queue\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__queuetables_ll_event_queue\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: queuetablesstatus
          componentType: QUEUE_TABLES
        annotations:
          componentType: QUEUE_TABLES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='queuetables_ll_event_queue',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='queuetables_ll_event_queue',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Queue Table LLEvent Object Processing Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='queuetables_ll_event_queue',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='queuetables_ll_event_queue',severity='error'})\" | first | value) -}}Queue table LLEvent is not being flushed and/or is increasing{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='queuetablesstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __queuetables_notify_events
        expr: "((max by (envId) ((sgn(idelta(otcs_queuetables_notify_events[5m])) >= 0 and otcs_queuetables_notify_events > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_notify_events\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_notify_events[5m])) >= 0 and otcs_queuetables_notify_events > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_notify_events\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_notify_events\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: queuetables_notify_events
        expr: "(((max by (envId) ((sgn(idelta(otcs_queuetables_notify_events[5m])) >= 0 and otcs_queuetables_notify_events > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_notify_events\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_notify_events[5m])) >= 0 and otcs_queuetables_notify_events > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_notify_events\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_notify_events\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__queuetables_notify_events\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"queuetables_notify_events\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__queuetables_notify_events\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: queuetablesstatus
          componentType: QUEUE_TABLES
        annotations:
          componentType: QUEUE_TABLES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='queuetables_notify_events',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='queuetables_notify_events',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Queue Table NotifyEvents Object Processing Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='queuetables_notify_events',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='queuetables_notify_events',severity='warning'})\" | first | value) -}}Queue table NotifyEvents is not being flushed and/or is increasing{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='queuetablesstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __queuetables_notify_events
        expr: "((max by (envId) ((sgn(idelta(otcs_queuetables_notify_events[5m])) >= 0 and otcs_queuetables_notify_events > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_notify_events\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_notify_events[5m])) >= 0 and otcs_queuetables_notify_events > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_notify_events\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_notify_events\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: queuetables_notify_events
        expr: "(((max by (envId) ((sgn(idelta(otcs_queuetables_notify_events[5m])) >= 0 and otcs_queuetables_notify_events > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_notify_events\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_notify_events[5m])) >= 0 and otcs_queuetables_notify_events > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_notify_events\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_notify_events\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__queuetables_notify_events\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"queuetables_notify_events\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__queuetables_notify_events\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: queuetablesstatus
          componentType: QUEUE_TABLES
        annotations:
          componentType: QUEUE_TABLES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='queuetables_notify_events',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='queuetables_notify_events',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Queue Table NotifyEvents Object Processing Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='queuetables_notify_events',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='queuetables_notify_events',severity='error'})\" | first | value) -}}Queue table NotifyEvents is not being flushed and/or is increasing{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='queuetablesstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __queuetables_notify_messages
        expr: "((max by (envId) ((sgn(idelta(otcs_queuetables_notify_messages[5m])) >= 0 and otcs_queuetables_notify_messages > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_notify_messages\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_notify_messages[5m])) >= 0 and otcs_queuetables_notify_messages > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_notify_messages\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_notify_messages\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: queuetables_notify_messages
        expr: "(((max by (envId) ((sgn(idelta(otcs_queuetables_notify_messages[5m])) >= 0 and otcs_queuetables_notify_messages > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_notify_messages\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_notify_messages[5m])) >= 0 and otcs_queuetables_notify_messages > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_notify_messages\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_notify_messages\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__queuetables_notify_messages\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"queuetables_notify_messages\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__queuetables_notify_messages\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: queuetablesstatus
          componentType: QUEUE_TABLES
        annotations:
          componentType: QUEUE_TABLES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='queuetables_notify_messages',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='queuetables_notify_messages',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Queue Table NotifyMessages Object Processing Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='queuetables_notify_messages',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='queuetables_notify_messages',severity='warning'})\" | first | value) -}}Queue table NotifyMessages is not being flushed and/or is increasing{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='queuetablesstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __queuetables_notify_messages
        expr: "((max by (envId) ((sgn(idelta(otcs_queuetables_notify_messages[5m])) >= 0 and otcs_queuetables_notify_messages > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_notify_messages\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_notify_messages[5m])) >= 0 and otcs_queuetables_notify_messages > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_notify_messages\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_notify_messages\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: queuetables_notify_messages
        expr: "(((max by (envId) ((sgn(idelta(otcs_queuetables_notify_messages[5m])) >= 0 and otcs_queuetables_notify_messages > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_notify_messages\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_notify_messages[5m])) >= 0 and otcs_queuetables_notify_messages > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_notify_messages\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_notify_messages\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__queuetables_notify_messages\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"queuetables_notify_messages\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__queuetables_notify_messages\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: queuetablesstatus
          componentType: QUEUE_TABLES
        annotations:
          componentType: QUEUE_TABLES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='queuetables_notify_messages',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='queuetables_notify_messages',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Queue Table NotifyMessages Object Processing Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='queuetables_notify_messages',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='queuetables_notify_messages',severity='error'})\" | first | value) -}}Queue table NotifyMessages is not being flushed and/or is increasing{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='queuetablesstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __queuetables_provider_retry
        expr: "((max by (envId) ((idelta(otcs_queuetables_provider_retry[5m]) > 0 and otcs_queuetables_provider_retry > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_provider_retry\"})\n  or (\n    (max by (envId) ((idelta(otcs_queuetables_provider_retry[5m]) > 0 and otcs_queuetables_provider_retry > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_provider_retry\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_provider_retry\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: queuetables_provider_retry
        expr: "(((max by (envId) ((idelta(otcs_queuetables_provider_retry[5m]) > 0 and otcs_queuetables_provider_retry > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_provider_retry\"})\n  or (\n    (max by (envId) ((idelta(otcs_queuetables_provider_retry[5m]) > 0 and otcs_queuetables_provider_retry > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_provider_retry\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_provider_retry\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__queuetables_provider_retry\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"queuetables_provider_retry\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__queuetables_provider_retry\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: queuetablesstatus
          componentType: QUEUE_TABLES
        annotations:
          componentType: QUEUE_TABLES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='queuetables_provider_retry',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='queuetables_provider_retry',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Queue Table ProviderRetry Growth Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='queuetables_provider_retry',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='queuetables_provider_retry',severity='warning'})\" | first | value) -}}The ProviderRetry queue table entries are increasing persistently{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='queuetablesstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __queuetables_provider_retry
        expr: "((max by (envId) ((idelta(otcs_queuetables_provider_retry[5m]) > 0 and otcs_queuetables_provider_retry > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_provider_retry\"})\n  or (\n    (max by (envId) ((idelta(otcs_queuetables_provider_retry[5m]) > 0 and otcs_queuetables_provider_retry > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_provider_retry\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_provider_retry\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: queuetables_provider_retry
        expr: "(((max by (envId) ((idelta(otcs_queuetables_provider_retry[5m]) > 0 and otcs_queuetables_provider_retry > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_provider_retry\"})\n  or (\n    (max by (envId) ((idelta(otcs_queuetables_provider_retry[5m]) > 0 and otcs_queuetables_provider_retry > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_provider_retry\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_provider_retry\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__queuetables_provider_retry\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"queuetables_provider_retry\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__queuetables_provider_retry\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: queuetablesstatus
          componentType: QUEUE_TABLES
        annotations:
          componentType: QUEUE_TABLES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='queuetables_provider_retry',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='queuetables_provider_retry',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Queue Table ProviderRetry Growth Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='queuetables_provider_retry',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='queuetables_provider_retry',severity='error'})\" | first | value) -}}The ProviderRetry queue table entries are increasing persistently{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='queuetablesstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __queuetables_rendition_queue
        expr: "((max by (envId) ((sgn(idelta(otcs_queuetables_rendition_queue[5m])) >= 0 and otcs_queuetables_rendition_queue > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_rendition_queue\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_rendition_queue[5m])) >= 0 and otcs_queuetables_rendition_queue > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_rendition_queue\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_rendition_queue\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: queuetables_rendition_queue
        expr: "(((max by (envId) ((sgn(idelta(otcs_queuetables_rendition_queue[5m])) >= 0 and otcs_queuetables_rendition_queue > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_rendition_queue\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_rendition_queue[5m])) >= 0 and otcs_queuetables_rendition_queue > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_rendition_queue\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_rendition_queue\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__queuetables_rendition_queue\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"queuetables_rendition_queue\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__queuetables_rendition_queue\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: queuetablesstatus
          componentType: QUEUE_TABLES
        annotations:
          componentType: QUEUE_TABLES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='queuetables_rendition_queue',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='queuetables_rendition_queue',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Queue Table Rendition Object Processing Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='queuetables_rendition_queue',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='queuetables_rendition_queue',severity='warning'})\" | first | value) -}}Queue table Rendition is not being flushed and/or is increasing{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='queuetablesstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __queuetables_rendition_queue
        expr: "((max by (envId) ((sgn(idelta(otcs_queuetables_rendition_queue[5m])) >= 0 and otcs_queuetables_rendition_queue > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_rendition_queue\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_rendition_queue[5m])) >= 0 and otcs_queuetables_rendition_queue > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_rendition_queue\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_rendition_queue\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: queuetables_rendition_queue
        expr: "(((max by (envId) ((sgn(idelta(otcs_queuetables_rendition_queue[5m])) >= 0 and otcs_queuetables_rendition_queue > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_rendition_queue\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_rendition_queue[5m])) >= 0 and otcs_queuetables_rendition_queue > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_rendition_queue\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_rendition_queue\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__queuetables_rendition_queue\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"queuetables_rendition_queue\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__queuetables_rendition_queue\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: queuetablesstatus
          componentType: QUEUE_TABLES
        annotations:
          componentType: QUEUE_TABLES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='queuetables_rendition_queue',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='queuetables_rendition_queue',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Queue Table Rendition Object Processing Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='queuetables_rendition_queue',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='queuetables_rendition_queue',severity='error'})\" | first | value) -}}Queue table Rendition is not being flushed and/or is increasing{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='queuetablesstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __queuetables_worker_queue
        expr: "((max by (envId) ((sgn(idelta(otcs_queuetables_worker_queue[5m])) >= 0 and otcs_queuetables_worker_queue > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_worker_queue\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_worker_queue[5m])) >= 0 and otcs_queuetables_worker_queue > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_worker_queue\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_worker_queue\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: queuetables_worker_queue
        expr: "(((max by (envId) ((sgn(idelta(otcs_queuetables_worker_queue[5m])) >= 0 and otcs_queuetables_worker_queue > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_worker_queue\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_worker_queue[5m])) >= 0 and otcs_queuetables_worker_queue > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_worker_queue\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_worker_queue\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__queuetables_worker_queue\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"queuetables_worker_queue\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__queuetables_worker_queue\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: queuetablesstatus
          componentType: QUEUE_TABLES
        annotations:
          componentType: QUEUE_TABLES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='queuetables_worker_queue',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='queuetables_worker_queue',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Queue Table Worker Object Processing Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='queuetables_worker_queue',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='queuetables_worker_queue',severity='warning'})\" | first | value) -}}Queue table Worker is not being flushed and/or is increasing{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='queuetablesstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __queuetables_worker_queue
        expr: "((max by (envId) ((sgn(idelta(otcs_queuetables_worker_queue[5m])) >= 0 and otcs_queuetables_worker_queue > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_worker_queue\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_worker_queue[5m])) >= 0 and otcs_queuetables_worker_queue > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_worker_queue\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_worker_queue\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: queuetables_worker_queue
        expr: "(((max by (envId) ((sgn(idelta(otcs_queuetables_worker_queue[5m])) >= 0 and otcs_queuetables_worker_queue > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_worker_queue\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_worker_queue[5m])) >= 0 and otcs_queuetables_worker_queue > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_worker_queue\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_worker_queue\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__queuetables_worker_queue\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"queuetables_worker_queue\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__queuetables_worker_queue\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: queuetablesstatus
          componentType: QUEUE_TABLES
        annotations:
          componentType: QUEUE_TABLES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='queuetables_worker_queue',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='queuetables_worker_queue',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Queue Table Worker Object Processing Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='queuetables_worker_queue',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='queuetables_worker_queue',severity='error'})\" | first | value) -}}Queue table Worker is not being flushed and/or is increasing{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='queuetablesstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __queuetables_worker_queue_pending
        expr: "((max by (envId) ((sgn(idelta(otcs_queuetables_worker_queue_pending[5m])) >= 0 and otcs_queuetables_worker_queue_pending > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_worker_queue_pending\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_worker_queue_pending[5m])) >= 0 and otcs_queuetables_worker_queue_pending > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_worker_queue_pending\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_worker_queue_pending\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: queuetables_worker_queue_pending
        expr: "(((max by (envId) ((sgn(idelta(otcs_queuetables_worker_queue_pending[5m])) >= 0 and otcs_queuetables_worker_queue_pending > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_worker_queue_pending\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_worker_queue_pending[5m])) >= 0 and otcs_queuetables_worker_queue_pending > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_worker_queue_pending\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_worker_queue_pending\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__queuetables_worker_queue_pending\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"queuetables_worker_queue_pending\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__queuetables_worker_queue_pending\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: queuetablesstatus
          componentType: QUEUE_TABLES
        annotations:
          componentType: QUEUE_TABLES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='queuetables_worker_queue_pending',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='queuetables_worker_queue_pending',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Queue Table WorkerPending Object Processing Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='queuetables_worker_queue_pending',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='queuetables_worker_queue_pending',severity='warning'})\" | first | value) -}}Queue table WorkerPending is not being flushed and/or is increasing{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='queuetablesstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __queuetables_worker_queue_pending
        expr: "((max by (envId) ((sgn(idelta(otcs_queuetables_worker_queue_pending[5m])) >= 0 and otcs_queuetables_worker_queue_pending > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_worker_queue_pending\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_worker_queue_pending[5m])) >= 0 and otcs_queuetables_worker_queue_pending > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_worker_queue_pending\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_worker_queue_pending\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: queuetables_worker_queue_pending
        expr: "(((max by (envId) ((sgn(idelta(otcs_queuetables_worker_queue_pending[5m])) >= 0 and otcs_queuetables_worker_queue_pending > 0) + 1) or on() vector(0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"queuetables_worker_queue_pending\"})\n  or (\n    (max by (envId) ((sgn(idelta(otcs_queuetables_worker_queue_pending[5m])) >= 0 and otcs_queuetables_worker_queue_pending > 0) + 1) or on() vector(0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"queuetables_worker_queue_pending\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"queuetables_worker_queue_pending\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__queuetables_worker_queue_pending\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"queuetables_worker_queue_pending\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__queuetables_worker_queue_pending\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: queuetablesstatus
          componentType: QUEUE_TABLES
        annotations:
          componentType: QUEUE_TABLES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='queuetables_worker_queue_pending',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='queuetables_worker_queue_pending',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Queue Table WorkerPending Object Processing Warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='queuetables_worker_queue_pending',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='queuetables_worker_queue_pending',severity='error'})\" | first | value) -}}Queue table WorkerPending is not being flushed and/or is increasing{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='queuetablesstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_ipool_idle
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_active == 0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_ipool_idle\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_active == 0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_ipool_idle\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_ipool_idle\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_ipool_idle
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_active == 0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_ipool_idle\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_active == 0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_ipool_idle\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_ipool_idle\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_ipool_idle\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_ipool_idle\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_ipool_idle\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_ipool_idle',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_ipool_idle',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "iPool \"{{ $labels.componentName }}\" is Idle"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_ipool_idle',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_ipool_idle',severity='warning'})\" | first | value) -}}iPool \"{{ $labels.componentName }}\" is idle{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_ipool_idle
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_active == 0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_ipool_idle\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_active == 0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_ipool_idle\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_ipool_idle\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_ipool_idle
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_active == 0)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_ipool_idle\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_active == 0)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_ipool_idle\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_ipool_idle\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_ipool_idle\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_ipool_idle\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_ipool_idle\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_ipool_idle',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_ipool_idle',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "iPool \"{{ $labels.componentName }}\" is Idle"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_ipool_idle',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_ipool_idle',severity='error'})\" | first | value) -}}iPool \"{{ $labels.componentName }}\" is idle{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_ipool_pending
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_pending)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_ipool_pending\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_pending)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_ipool_pending\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_ipool_pending\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_ipool_pending
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_pending)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_ipool_pending\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_pending)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_ipool_pending\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_ipool_pending\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_ipool_pending\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_ipool_pending\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_ipool_pending\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: NUMBER
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_ipool_pending',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_ipool_pending',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "iPool \"{{ $labels.componentName }}\" Pending Messages Processing Warning"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_ipool_pending',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_ipool_pending',severity='warning'})\" | first | value) -}}The System Object Volume IPool \"{{ $labels.componentName }}\" has a pending messages count exceeding the threshold of {{ $threshold }}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}. Pending IPool messages may indicate a process is not working properly, stopped, or system bottlenecks."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_ipool_pending
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_pending)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_ipool_pending\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_pending)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_ipool_pending\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_ipool_pending\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_ipool_pending
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_pending)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_ipool_pending\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_sov_ipool_pending)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_ipool_pending\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_ipool_pending\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_ipool_pending\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_ipool_pending\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_ipool_pending\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: NUMBER
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_ipool_pending',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_ipool_pending',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "iPool \"{{ $labels.componentName }}\" Pending Messages Processing Warning"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_ipool_pending',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_ipool_pending',severity='error'})\" | first | value) -}}The System Object Volume IPool \"{{ $labels.componentName }}\" has a pending messages count exceeding the threshold of {{ $threshold }}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}. Pending IPool messages may indicate a process is not working properly, stopped, or system bottlenecks."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_dataflow_idle
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_dataflow_idle == 1)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_dataflow_idle\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_dataflow_idle == 1)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_dataflow_idle\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_dataflow_idle\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_dataflow_idle
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_dataflow_idle == 1)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_dataflow_idle\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_dataflow_idle == 1)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_dataflow_idle\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_dataflow_idle\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_dataflow_idle\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_dataflow_idle\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_dataflow_idle\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_dataflow_idle',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_dataflow_idle',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Data Flow is Suspended
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_dataflow_idle',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_dataflow_idle',severity='warning'})\" | first | value) -}}Data Flow \"{{ $labels.componentName }}\" is suspended{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_dataflow_idle
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_dataflow_idle == 1)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_dataflow_idle\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_dataflow_idle == 1)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_dataflow_idle\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_dataflow_idle\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_dataflow_idle
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_dataflow_idle == 1)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_dataflow_idle\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_dataflow_idle == 1)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_dataflow_idle\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_dataflow_idle\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_dataflow_idle\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_dataflow_idle\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_dataflow_idle\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_dataflow_idle',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_dataflow_idle',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Data Flow is Suspended
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_dataflow_idle',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_dataflow_idle',severity='error'})\" | first | value) -}}Data Flow \"{{ $labels.componentName }}\" is suspended{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __extendedecm_system_status
        expr: "((max by (systemId, envId, componentId, componentName, componentClass) (otcs_extendedecm_system_status)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_system_status\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otcs_extendedecm_system_status)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_system_status\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_system_status\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: extendedecm_system_status
        expr: "(((max by (systemId, envId, componentId, componentName, componentClass) (otcs_extendedecm_system_status)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_system_status\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otcs_extendedecm_system_status)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_system_status\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_system_status\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__extendedecm_system_status\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"extendedecm_system_status\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__extendedecm_system_status\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: xecmexternalsystems
          componentType: XECM
        annotations:
          componentType: XECM
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='extendedecm_system_status',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='extendedecm_system_status',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Business Application \"{{ $labels.componentName }}\" is Unavailable"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='extendedecm_system_status',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='extendedecm_system_status',severity='warning'})\" | first | value) -}}Business Application \"{{ $labels.componentName }}\" is unavailable {{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='xecmexternalsystems',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __extendedecm_system_status
        expr: "((max by (systemId, envId, componentId, componentName, componentClass) (otcs_extendedecm_system_status)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_system_status\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otcs_extendedecm_system_status)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_system_status\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_system_status\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: extendedecm_system_status
        expr: "(((max by (systemId, envId, componentId, componentName, componentClass) (otcs_extendedecm_system_status)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_system_status\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otcs_extendedecm_system_status)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_system_status\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_system_status\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__extendedecm_system_status\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"extendedecm_system_status\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__extendedecm_system_status\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: xecmexternalsystems
          componentType: XECM
        annotations:
          componentType: XECM
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='extendedecm_system_status',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='extendedecm_system_status',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Business Application \"{{ $labels.componentName }}\" is Unavailable"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='extendedecm_system_status',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='extendedecm_system_status',severity='error'})\" | first | value) -}}Business Application \"{{ $labels.componentName }}\" is unavailable {{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='xecmexternalsystems',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __extendedecm_system_auth_status
        expr: "((max by (systemId, envId, componentId, componentName, componentClass) (otcs_extendedecm_system_auth_status)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_system_auth_status\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otcs_extendedecm_system_auth_status)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_system_auth_status\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_system_auth_status\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: extendedecm_system_auth_status
        expr: "(((max by (systemId, envId, componentId, componentName, componentClass) (otcs_extendedecm_system_auth_status)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_system_auth_status\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otcs_extendedecm_system_auth_status)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_system_auth_status\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_system_auth_status\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__extendedecm_system_auth_status\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"extendedecm_system_auth_status\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__extendedecm_system_auth_status\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: xecmexternalsystems
          componentType: XECM
        annotations:
          componentType: XECM
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='extendedecm_system_auth_status',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='extendedecm_system_auth_status',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Business Application \"{{ $labels.componentName }}\" Authentication Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='extendedecm_system_auth_status',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='extendedecm_system_auth_status',severity='warning'})\" | first | value) -}}Business Application \"{{ $labels.componentName }}\" is failing authentication  {{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='xecmexternalsystems',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __extendedecm_system_auth_status
        expr: "((max by (systemId, envId, componentId, componentName, componentClass) (otcs_extendedecm_system_auth_status)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_system_auth_status\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otcs_extendedecm_system_auth_status)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_system_auth_status\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_system_auth_status\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: extendedecm_system_auth_status
        expr: "(((max by (systemId, envId, componentId, componentName, componentClass) (otcs_extendedecm_system_auth_status)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_system_auth_status\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otcs_extendedecm_system_auth_status)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_system_auth_status\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_system_auth_status\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__extendedecm_system_auth_status\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"extendedecm_system_auth_status\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__extendedecm_system_auth_status\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: xecmexternalsystems
          componentType: XECM
        annotations:
          componentType: XECM
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='extendedecm_system_auth_status',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='extendedecm_system_auth_status',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Business Application \"{{ $labels.componentName }}\" Authentication Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='extendedecm_system_auth_status',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='extendedecm_system_auth_status',severity='error'})\" | first | value) -}}Business Application \"{{ $labels.componentName }}\" is failing authentication  {{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='xecmexternalsystems',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __extendedecm_job_status
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_extendedecm_job_status)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_job_status\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_extendedecm_job_status)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_job_status\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_job_status\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: extendedecm_job_status
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_extendedecm_job_status)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_job_status\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_extendedecm_job_status)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_job_status\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_job_status\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__extendedecm_job_status\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"extendedecm_job_status\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__extendedecm_job_status\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: xecmlicensingandjobs
          componentType: XECM
        annotations:
          componentType: XECM
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='extendedecm_job_status',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='extendedecm_job_status',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Scheduled Job {{ $labels.componentName }} Status Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='extendedecm_job_status',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='extendedecm_job_status',severity='warning'})\" | first | value) -}}Schedule job \"{{ $labels.componentName }}\" is in error state {{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='xecmlicensingandjobs',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __extendedecm_job_status
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_extendedecm_job_status)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_job_status\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_extendedecm_job_status)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_job_status\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_job_status\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: extendedecm_job_status
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_extendedecm_job_status)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_job_status\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_extendedecm_job_status)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_job_status\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_job_status\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__extendedecm_job_status\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"extendedecm_job_status\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__extendedecm_job_status\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: xecmlicensingandjobs
          componentType: XECM
        annotations:
          componentType: XECM
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='extendedecm_job_status',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='extendedecm_job_status',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Scheduled Job {{ $labels.componentName }} Status Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='extendedecm_job_status',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='extendedecm_job_status',severity='error'})\" | first | value) -}}Schedule job \"{{ $labels.componentName }}\" is in error state {{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='xecmlicensingandjobs',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __extendedecm_job_error_items
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_extendedecm_job_error_items)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_job_error_items\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_extendedecm_job_error_items)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_job_error_items\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_job_error_items\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: extendedecm_job_error_items
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_extendedecm_job_error_items)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_job_error_items\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_extendedecm_job_error_items)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_job_error_items\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_job_error_items\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__extendedecm_job_error_items\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"extendedecm_job_error_items\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__extendedecm_job_error_items\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: xecmlicensingandjobs
          componentType: XECM
        annotations:
          componentType: XECM
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='extendedecm_job_error_items',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='extendedecm_job_error_items',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Scheduled Job {{ $labels.componentName }} has Error Items"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='extendedecm_job_error_items',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='extendedecm_job_error_items',severity='warning'})\" | first | value) -}}Schedule job \"{{ $labels.componentName }}\" has error items ({{ $value }}) {{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='xecmlicensingandjobs',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __extendedecm_job_error_items
        expr: "((max by (envId, componentId, componentName, componentClass) (otcs_extendedecm_job_error_items)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_job_error_items\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_extendedecm_job_error_items)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_job_error_items\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_job_error_items\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: extendedecm_job_error_items
        expr: "(((max by (envId, componentId, componentName, componentClass) (otcs_extendedecm_job_error_items)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_job_error_items\"})\n  or (\n    (max by (envId, componentId, componentName, componentClass) (otcs_extendedecm_job_error_items)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_job_error_items\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_job_error_items\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__extendedecm_job_error_items\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"extendedecm_job_error_items\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__extendedecm_job_error_items\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: xecmlicensingandjobs
          componentType: XECM
        annotations:
          componentType: XECM
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='extendedecm_job_error_items',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='extendedecm_job_error_items',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Scheduled Job {{ $labels.componentName }} has Error Items"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='extendedecm_job_error_items',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='extendedecm_job_error_items',severity='error'})\" | first | value) -}}Schedule job \"{{ $labels.componentName }}\" has error items ({{ $value }}) {{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='xecmlicensingandjobs',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __extendedecm_licensing_userlicense_issue
        expr: "((max by (envId, componentClass) (otcs_extendedecm_licensing_userlicense_issue)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_licensing_userlicense_issue\"})\n  or (\n    (max by (envId, componentClass) (otcs_extendedecm_licensing_userlicense_issue)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_licensing_userlicense_issue\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_licensing_userlicense_issue\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: extendedecm_licensing_userlicense_issue
        expr: "(((max by (envId, componentClass) (otcs_extendedecm_licensing_userlicense_issue)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_licensing_userlicense_issue\"})\n  or (\n    (max by (envId, componentClass) (otcs_extendedecm_licensing_userlicense_issue)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_licensing_userlicense_issue\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_licensing_userlicense_issue\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__extendedecm_licensing_userlicense_issue\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"extendedecm_licensing_userlicense_issue\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__extendedecm_licensing_userlicense_issue\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: xecmlicensingandjobs
          componentType: XECM
        annotations:
          componentType: XECM
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='extendedecm_licensing_userlicense_issue',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='extendedecm_licensing_userlicense_issue',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Extended ECM Licensing Issues
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='extendedecm_licensing_userlicense_issue',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='extendedecm_licensing_userlicense_issue',severity='warning'})\" | first | value) -}}Extended ECM has licensing issues, please review this component license usage"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='xecmlicensingandjobs',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __extendedecm_licensing_userlicense_issue
        expr: "((max by (envId, componentClass) (otcs_extendedecm_licensing_userlicense_issue)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_licensing_userlicense_issue\"})\n  or (\n    (max by (envId, componentClass) (otcs_extendedecm_licensing_userlicense_issue)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_licensing_userlicense_issue\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_licensing_userlicense_issue\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: extendedecm_licensing_userlicense_issue
        expr: "(((max by (envId, componentClass) (otcs_extendedecm_licensing_userlicense_issue)) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"extendedecm_licensing_userlicense_issue\"})\n  or (\n    (max by (envId, componentClass) (otcs_extendedecm_licensing_userlicense_issue)) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"extendedecm_licensing_userlicense_issue\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"extendedecm_licensing_userlicense_issue\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__extendedecm_licensing_userlicense_issue\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"extendedecm_licensing_userlicense_issue\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__extendedecm_licensing_userlicense_issue\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: xecmlicensingandjobs
          componentType: XECM
        annotations:
          componentType: XECM
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='extendedecm_licensing_userlicense_issue',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='extendedecm_licensing_userlicense_issue',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Extended ECM Licensing Issues
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='extendedecm_licensing_userlicense_issue',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='extendedecm_licensing_userlicense_issue',severity='error'})\" | first | value) -}}Extended ECM has licensing issues, please review this component license usage"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='xecmlicensingandjobs',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_archive_no_pools
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_total_pools{componentClass=\"otac_archive_original\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_archive_no_pools\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_total_pools{componentClass=\"otac_archive_original\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_archive_no_pools\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_archive_no_pools\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: otac_archive_no_pools
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_total_pools{componentClass=\"otac_archive_original\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_archive_no_pools\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_total_pools{componentClass=\"otac_archive_original\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_archive_no_pools\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_archive_no_pools\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_archive_no_pools\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_archive_no_pools\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_archive_no_pools\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: archives
          componentType: OTAC_ARCHIVE
        annotations:
          componentType: OTAC_ARCHIVE
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_archive_no_pools',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_archive_no_pools',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Logical Archive \"{{ $labels.componentId }}\" Pool Warning"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_archive_no_pools',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_archive_no_pools',severity='warning'})\" | first | value) -}}Logical Archive \"{{ $labels.componentId }}\" has no pools assigned{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}, please add at least one pool to this logical archive"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='archives',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_archive_no_pools
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_total_pools{componentClass=\"otac_archive_original\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_archive_no_pools\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_total_pools{componentClass=\"otac_archive_original\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_archive_no_pools\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_archive_no_pools\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: otac_archive_no_pools
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_total_pools{componentClass=\"otac_archive_original\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_archive_no_pools\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_total_pools{componentClass=\"otac_archive_original\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_archive_no_pools\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_archive_no_pools\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_archive_no_pools\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_archive_no_pools\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_archive_no_pools\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: archives
          componentType: OTAC_ARCHIVE
        annotations:
          componentType: OTAC_ARCHIVE
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_archive_no_pools',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_archive_no_pools',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Logical Archive \"{{ $labels.componentId }}\" Pool Warning"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_archive_no_pools',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_archive_no_pools',severity='error'})\" | first | value) -}}Logical Archive \"{{ $labels.componentId }}\" has no pools assigned{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}, please add at least one pool to this logical archive"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='archives',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_pool_no_volumes
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_total_volumes == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_pool_no_volumes\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_total_volumes == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_pool_no_volumes\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_pool_no_volumes\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: otac_pool_no_volumes
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_total_volumes == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_pool_no_volumes\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_total_volumes == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_pool_no_volumes\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_pool_no_volumes\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_pool_no_volumes\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_pool_no_volumes\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_pool_no_volumes\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: archives
          componentType: OTAC_POOL
        annotations:
          componentType: OTAC_POOL
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_pool_no_volumes',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_pool_no_volumes',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Pool \"{{ $labels.componentName }}\" has no Volumes"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_pool_no_volumes',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_pool_no_volumes',severity='warning'})\" | first | value) -}}Pool \"{{ $labels.componentName }}\" (Archive \"{{ $labels.componentId }}\") has no volumes assigned{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}, please attach at least one volume to this pool"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='archives',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_pool_no_volumes
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_total_volumes == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_pool_no_volumes\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_total_volumes == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_pool_no_volumes\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_pool_no_volumes\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: otac_pool_no_volumes
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_total_volumes == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_pool_no_volumes\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_total_volumes == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_pool_no_volumes\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_pool_no_volumes\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_pool_no_volumes\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_pool_no_volumes\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_pool_no_volumes\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: archives
          componentType: OTAC_POOL
        annotations:
          componentType: OTAC_POOL
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_pool_no_volumes',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_pool_no_volumes',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Pool \"{{ $labels.componentName }}\" has no Volumes"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_pool_no_volumes',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_pool_no_volumes',severity='error'})\" | first | value) -}}Pool \"{{ $labels.componentName }}\" (Archive \"{{ $labels.componentId }}\") has no volumes assigned{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}, please attach at least one volume to this pool"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='archives',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_storage_device_detached
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_status == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_detached\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_status == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_detached\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_detached\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: otac_storage_device_detached
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_status == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_detached\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_status == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_detached\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_detached\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_storage_device_detached\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_storage_device_detached\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_storage_device_detached\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: storagedevices
          componentType: OTAC_STORAGE_DEVICE
        annotations:
          componentType: OTAC_STORAGE_DEVICE
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_storage_device_detached',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_storage_device_detached',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Device \"{{ $labels.componentName }}\" is Detached"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_storage_device_detached',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_storage_device_detached',severity='warning'})\" | first | value) -}}Storage Device \"{{ $labels.componentName }}\" is detached and unavailable{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='storagedevices',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_storage_device_detached
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_status == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_detached\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_status == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_detached\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_detached\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: otac_storage_device_detached
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_status == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_detached\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_status == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_detached\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_detached\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_storage_device_detached\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_storage_device_detached\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_storage_device_detached\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: storagedevices
          componentType: OTAC_STORAGE_DEVICE
        annotations:
          componentType: OTAC_STORAGE_DEVICE
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_storage_device_detached',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_storage_device_detached',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Device \"{{ $labels.componentName }}\" is Detached"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_storage_device_detached',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_storage_device_detached',severity='error'})\" | first | value) -}}Storage Device \"{{ $labels.componentName }}\" is detached and unavailable{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='storagedevices',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_storage_device_aborted
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_status == 4)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_aborted\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_status == 4)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_aborted\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_aborted\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: otac_storage_device_aborted
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_status == 4)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_aborted\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_status == 4)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_aborted\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_aborted\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_storage_device_aborted\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_storage_device_aborted\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_storage_device_aborted\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: storagedevices
          componentType: OTAC_STORAGE_DEVICE
        annotations:
          componentType: OTAC_STORAGE_DEVICE
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_storage_device_aborted',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_storage_device_aborted',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Device \"{{ $labels.componentName }}\" With Aborted Connection"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_storage_device_aborted',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_storage_device_aborted',severity='warning'})\" | first | value) -}}Connection to Storage Device \"{{ $labels.componentName }}\" was aborted being unavailable{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='storagedevices',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_storage_device_aborted
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_status == 4)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_aborted\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_status == 4)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_aborted\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_aborted\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: otac_storage_device_aborted
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_status == 4)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_aborted\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_status == 4)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_aborted\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_aborted\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_storage_device_aborted\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_storage_device_aborted\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_storage_device_aborted\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: storagedevices
          componentType: OTAC_STORAGE_DEVICE
        annotations:
          componentType: OTAC_STORAGE_DEVICE
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_storage_device_aborted',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_storage_device_aborted',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Device \"{{ $labels.componentName }}\" With Aborted Connection"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_storage_device_aborted',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_storage_device_aborted',severity='error'})\" | first | value) -}}Connection to Storage Device \"{{ $labels.componentName }}\" was aborted being unavailable{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='storagedevices',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_storage_device_free_space_high
        expr: "((min by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_total_free_space / otac_storage_device_total_capacity)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_free_space_high\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_total_free_space / otac_storage_device_total_capacity)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_free_space_high\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_free_space_high\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: otac_storage_device_free_space_high
        expr: "(((min by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_total_free_space / otac_storage_device_total_capacity)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_free_space_high\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_total_free_space / otac_storage_device_total_capacity)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_free_space_high\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_free_space_high\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_storage_device_free_space_high\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_storage_device_free_space_high\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_storage_device_free_space_high\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: storagedevices
          componentType: OTAC_STORAGE_DEVICE
        annotations:
          componentType: OTAC_STORAGE_DEVICE
          below: "true"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_storage_device_free_space_high',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_storage_device_free_space_high',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Device \"{{ $labels.componentName }}\" Free Space Warning"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_storage_device_free_space_high',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_storage_device_free_space_high',severity='warning'})\" | first | value) -}}Storage Device \"{{ $labels.componentName }}\" free space is below {{ $threshold | humanizePercentage}}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='storagedevices',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_storage_device_free_space_high
        expr: "((min by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_total_free_space / otac_storage_device_total_capacity)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_free_space_high\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_total_free_space / otac_storage_device_total_capacity)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_free_space_high\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_free_space_high\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: otac_storage_device_free_space_high
        expr: "(((min by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_total_free_space / otac_storage_device_total_capacity)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_free_space_high\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_total_free_space / otac_storage_device_total_capacity)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_free_space_high\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_free_space_high\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_storage_device_free_space_high\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_storage_device_free_space_high\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_storage_device_free_space_high\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: storagedevices
          componentType: OTAC_STORAGE_DEVICE
        annotations:
          componentType: OTAC_STORAGE_DEVICE
          below: "true"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_storage_device_free_space_high',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_storage_device_free_space_high',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Device \"{{ $labels.componentName }}\" Free Space Warning"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_storage_device_free_space_high',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_storage_device_free_space_high',severity='error'})\" | first | value) -}}Storage Device \"{{ $labels.componentName }}\" free space is below {{ $threshold | humanizePercentage}}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='storagedevices',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_storage_device_free_space_limit
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) ((otac_storage_device_total_free_space / otac_storage_device_total_capacity) == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_free_space_limit\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) ((otac_storage_device_total_free_space / otac_storage_device_total_capacity) == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_free_space_limit\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_free_space_limit\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: otac_storage_device_free_space_limit
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) ((otac_storage_device_total_free_space / otac_storage_device_total_capacity) == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_free_space_limit\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) ((otac_storage_device_total_free_space / otac_storage_device_total_capacity) == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_free_space_limit\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_free_space_limit\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_storage_device_free_space_limit\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_storage_device_free_space_limit\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_storage_device_free_space_limit\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: storagedevices
          componentType: OTAC_STORAGE_DEVICE
        annotations:
          componentType: OTAC_STORAGE_DEVICE
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_storage_device_free_space_limit',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_storage_device_free_space_limit',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Device \"{{ $labels.componentName }}\" Free Space Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_storage_device_free_space_limit',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_storage_device_free_space_limit',severity='warning'})\" | first | value) -}}Storage Device \"{{ $labels.componentName }}\" free space has reached the limit"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='storagedevices',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_storage_device_free_space_limit
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) ((otac_storage_device_total_free_space / otac_storage_device_total_capacity) == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_free_space_limit\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) ((otac_storage_device_total_free_space / otac_storage_device_total_capacity) == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_free_space_limit\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_free_space_limit\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: otac_storage_device_free_space_limit
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) ((otac_storage_device_total_free_space / otac_storage_device_total_capacity) == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_free_space_limit\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) ((otac_storage_device_total_free_space / otac_storage_device_total_capacity) == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_free_space_limit\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_free_space_limit\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_storage_device_free_space_limit\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_storage_device_free_space_limit\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_storage_device_free_space_limit\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: storagedevices
          componentType: OTAC_STORAGE_DEVICE
        annotations:
          componentType: OTAC_STORAGE_DEVICE
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_storage_device_free_space_limit',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_storage_device_free_space_limit',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Device \"{{ $labels.componentName }}\" Free Space Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_storage_device_free_space_limit',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_storage_device_free_space_limit',severity='error'})\" | first | value) -}}Storage Device \"{{ $labels.componentName }}\" free space has reached the limit"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='storagedevices',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_buffer_no_volumes_attached
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_has_volumes == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_buffer_no_volumes_attached\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_has_volumes == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_buffer_no_volumes_attached\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_buffer_no_volumes_attached\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: otac_buffer_no_volumes_attached
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_has_volumes == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_buffer_no_volumes_attached\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_has_volumes == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_buffer_no_volumes_attached\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_buffer_no_volumes_attached\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_buffer_no_volumes_attached\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_buffer_no_volumes_attached\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_buffer_no_volumes_attached\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: buffers
          componentType: OTAC_BUFFER
        annotations:
          componentType: OTAC_BUFFER
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_buffer_no_volumes_attached',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_buffer_no_volumes_attached',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Buffer \"{{ $labels.componentName }}\" has no Volumes"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_buffer_no_volumes_attached',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_buffer_no_volumes_attached',severity='warning'})\" | first | value) -}}Buffer \"{{ $labels.componentName }}\" has no volumes attached{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}, please attach at least one volume to this buffer"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='buffers',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_buffer_no_volumes_attached
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_has_volumes == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_buffer_no_volumes_attached\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_has_volumes == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_buffer_no_volumes_attached\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_buffer_no_volumes_attached\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: otac_buffer_no_volumes_attached
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_has_volumes == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_buffer_no_volumes_attached\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_has_volumes == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_buffer_no_volumes_attached\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_buffer_no_volumes_attached\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_buffer_no_volumes_attached\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_buffer_no_volumes_attached\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_buffer_no_volumes_attached\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: buffers
          componentType: OTAC_BUFFER
        annotations:
          componentType: OTAC_BUFFER
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_buffer_no_volumes_attached',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_buffer_no_volumes_attached',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Buffer \"{{ $labels.componentName }}\" has no Volumes"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_buffer_no_volumes_attached',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_buffer_no_volumes_attached',severity='error'})\" | first | value) -}}Buffer \"{{ $labels.componentName }}\" has no volumes attached{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}, please attach at least one volume to this buffer"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='buffers',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_service_status_error
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) ( otac_service_status != 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_service_status_error\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) ( otac_service_status != 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_service_status_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_service_status_error\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: otac_service_status_error
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) ( otac_service_status != 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_service_status_error\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) ( otac_service_status != 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_service_status_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_service_status_error\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_service_status_error\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_service_status_error\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_service_status_error\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: servicesstatus
          componentType: OTAC_SERVICE
        annotations:
          componentType: OTAC_SERVICE
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_service_status_error',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_service_status_error',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "\"{{ $labels.componentName }}\" Status Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_service_status_error',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_service_status_error',severity='warning'})\" | first | value) -}}Service \"{{ $labels.componentName }}\" status is returning error"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='servicesstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_service_status_error
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) ( otac_service_status != 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_service_status_error\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) ( otac_service_status != 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_service_status_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_service_status_error\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: otac_service_status_error
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) ( otac_service_status != 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_service_status_error\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) ( otac_service_status != 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_service_status_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_service_status_error\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_service_status_error\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_service_status_error\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_service_status_error\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: servicesstatus
          componentType: OTAC_SERVICE
        annotations:
          componentType: OTAC_SERVICE
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_service_status_error',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_service_status_error',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "\"{{ $labels.componentName }}\" Status Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_service_status_error',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_service_status_error',severity='error'})\" | first | value) -}}Service \"{{ $labels.componentName }}\" status is returning error"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='servicesstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_pool_free_space_high
        expr: "((min by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_total_free_space / otac_archive_pool_total_capacity)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_pool_free_space_high\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_total_free_space / otac_archive_pool_total_capacity)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_pool_free_space_high\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"otac_pool_free_space_high\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: otac_pool_free_space_high
        expr: "(((min by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_total_free_space / otac_archive_pool_total_capacity)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_pool_free_space_high\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_total_free_space / otac_archive_pool_total_capacity)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_pool_free_space_high\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"otac_pool_free_space_high\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_pool_free_space_high\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_pool_free_space_high\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_pool_free_space_high\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: archives
          componentType: OTAC_POOL
        annotations:
          componentType: OTAC_POOL
          below: "true"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_pool_free_space_high',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_pool_free_space_high',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Pool \"{{ $labels.componentName }}\" Free Space Warning"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_pool_free_space_high',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_pool_free_space_high',severity='warning'})\" | first | value) -}}Pool \"{{ $labels.componentName }}\" free space is below {{ $threshold | humanizePercentage}}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='archives',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_pool_free_space_high
        expr: "((min by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_total_free_space / otac_archive_pool_total_capacity)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_pool_free_space_high\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_total_free_space / otac_archive_pool_total_capacity)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_pool_free_space_high\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"otac_pool_free_space_high\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: otac_pool_free_space_high
        expr: "(((min by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_total_free_space / otac_archive_pool_total_capacity)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_pool_free_space_high\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_total_free_space / otac_archive_pool_total_capacity)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_pool_free_space_high\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"otac_pool_free_space_high\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_pool_free_space_high\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_pool_free_space_high\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_pool_free_space_high\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: archives
          componentType: OTAC_POOL
        annotations:
          componentType: OTAC_POOL
          below: "true"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_pool_free_space_high',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_pool_free_space_high',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Pool \"{{ $labels.componentName }}\" Free Space Warning"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_pool_free_space_high',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_pool_free_space_high',severity='error'})\" | first | value) -}}Pool \"{{ $labels.componentName }}\" free space is below {{ $threshold | humanizePercentage}}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='archives',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_pool_free_space_limit
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_full == 1)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_pool_free_space_limit\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_full == 1)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_pool_free_space_limit\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_pool_free_space_limit\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: otac_pool_free_space_limit
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_full == 1)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_pool_free_space_limit\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_full == 1)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_pool_free_space_limit\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_pool_free_space_limit\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_pool_free_space_limit\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_pool_free_space_limit\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_pool_free_space_limit\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: archives
          componentType: OTAC_POOL
        annotations:
          componentType: OTAC_POOL
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_pool_free_space_limit',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_pool_free_space_limit',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Pool \"{{ $labels.componentName }}\" Free Space Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_pool_free_space_limit',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_pool_free_space_limit',severity='warning'})\" | first | value) -}}Pool \"{{ $labels.componentName }}\" free space has reached the limit"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='archives',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_pool_free_space_limit
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_full == 1)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_pool_free_space_limit\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_full == 1)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_pool_free_space_limit\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_pool_free_space_limit\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: otac_pool_free_space_limit
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_full == 1)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_pool_free_space_limit\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_archive_pool_full == 1)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_pool_free_space_limit\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_pool_free_space_limit\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_pool_free_space_limit\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_pool_free_space_limit\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_pool_free_space_limit\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: archives
          componentType: OTAC_POOL
        annotations:
          componentType: OTAC_POOL
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_pool_free_space_limit',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_pool_free_space_limit',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Pool \"{{ $labels.componentName }}\" Free Space Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_pool_free_space_limit',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_pool_free_space_limit',severity='error'})\" | first | value) -}}Pool \"{{ $labels.componentName }}\" free space has reached the limit"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='archives',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_buffer_free_space_high
        expr: "((min by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_total_free_space / otac_buffer_total_capacity)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_buffer_free_space_high\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_total_free_space / otac_buffer_total_capacity)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_buffer_free_space_high\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"otac_buffer_free_space_high\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: otac_buffer_free_space_high
        expr: "(((min by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_total_free_space / otac_buffer_total_capacity)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_buffer_free_space_high\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_total_free_space / otac_buffer_total_capacity)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_buffer_free_space_high\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"otac_buffer_free_space_high\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_buffer_free_space_high\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_buffer_free_space_high\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_buffer_free_space_high\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: buffers
          componentType: OTAC_BUFFER
        annotations:
          componentType: OTAC_BUFFER
          below: "true"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_buffer_free_space_high',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_buffer_free_space_high',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Buffer \"{{ $labels.componentName }}\" Free Space Warning"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_buffer_free_space_high',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_buffer_free_space_high',severity='warning'})\" | first | value) -}}Buffer \"{{ $labels.componentName }}\" free space is below {{ $threshold | humanizePercentage}}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='buffers',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_buffer_free_space_high
        expr: "((min by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_total_free_space / otac_buffer_total_capacity)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_buffer_free_space_high\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_total_free_space / otac_buffer_total_capacity)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_buffer_free_space_high\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"otac_buffer_free_space_high\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: otac_buffer_free_space_high
        expr: "(((min by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_total_free_space / otac_buffer_total_capacity)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_buffer_free_space_high\"})\n  or (\n    (min by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_total_free_space / otac_buffer_total_capacity)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_buffer_free_space_high\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"otac_buffer_free_space_high\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_buffer_free_space_high\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_buffer_free_space_high\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_buffer_free_space_high\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: buffers
          componentType: OTAC_BUFFER
        annotations:
          componentType: OTAC_BUFFER
          below: "true"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_buffer_free_space_high',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_buffer_free_space_high',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Buffer \"{{ $labels.componentName }}\" Free Space Warning"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_buffer_free_space_high',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_buffer_free_space_high',severity='error'})\" | first | value) -}}Buffer \"{{ $labels.componentName }}\" free space is below {{ $threshold | humanizePercentage}}{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='buffers',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_buffer_free_space_limit
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_pool_full == 1)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_buffer_free_space_limit\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_pool_full == 1)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_buffer_free_space_limit\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_buffer_free_space_limit\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: otac_buffer_free_space_limit
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_pool_full == 1)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_buffer_free_space_limit\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_pool_full == 1)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_buffer_free_space_limit\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_buffer_free_space_limit\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_buffer_free_space_limit\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_buffer_free_space_limit\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_buffer_free_space_limit\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: buffers
          componentType: OTAC_BUFFER
        annotations:
          componentType: OTAC_BUFFER
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_buffer_free_space_limit',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_buffer_free_space_limit',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Buffer \"{{ $labels.componentName }}\" Free Space Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_buffer_free_space_limit',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_buffer_free_space_limit',severity='warning'})\" | first | value) -}}Pool \"{{ $labels.componentName }}\" free space has reached the limit"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='buffers',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_buffer_free_space_limit
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_pool_full == 1)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_buffer_free_space_limit\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_pool_full == 1)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_buffer_free_space_limit\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_buffer_free_space_limit\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: otac_buffer_free_space_limit
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_pool_full == 1)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_buffer_free_space_limit\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otac_buffer_pool_full == 1)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_buffer_free_space_limit\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_buffer_free_space_limit\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_buffer_free_space_limit\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_buffer_free_space_limit\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_buffer_free_space_limit\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: buffers
          componentType: OTAC_BUFFER
        annotations:
          componentType: OTAC_BUFFER
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_buffer_free_space_limit',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_buffer_free_space_limit',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Buffer \"{{ $labels.componentName }}\" Free Space Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_buffer_free_space_limit',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_buffer_free_space_limit',severity='error'})\" | first | value) -}}Pool \"{{ $labels.componentName }}\" free space has reached the limit"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='buffers',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_storage_device_unavailable_volumes
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_unavailable_volumes_count) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_unavailable_volumes\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_unavailable_volumes_count) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_unavailable_volumes\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_unavailable_volumes\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: otac_storage_device_unavailable_volumes
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_unavailable_volumes_count) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_unavailable_volumes\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_unavailable_volumes_count) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_unavailable_volumes\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_unavailable_volumes\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_storage_device_unavailable_volumes\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_storage_device_unavailable_volumes\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_storage_device_unavailable_volumes\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: storagedevices
          componentType: OTAC_STORAGE_DEVICE
        annotations:
          componentType: OTAC_STORAGE_DEVICE
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_storage_device_unavailable_volumes',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_storage_device_unavailable_volumes',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Device \"{{ $labels.componentId }}\" has {{ $value }} Unavailable Volume(s)"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_storage_device_unavailable_volumes',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_storage_device_unavailable_volumes',severity='warning'})\" | first | value) -}}Storage Device \"{{ $labels.componentId }}\" has {{ $value }} unavailable volume(s), please make sure that the requested volume(s) is(are) available in order to retrieve to the requested content."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='storagedevices',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_storage_device_unavailable_volumes
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_unavailable_volumes_count) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_unavailable_volumes\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_unavailable_volumes_count) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_unavailable_volumes\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_unavailable_volumes\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: otac_storage_device_unavailable_volumes
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_unavailable_volumes_count) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_storage_device_unavailable_volumes\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_storage_device_unavailable_volumes_count) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_storage_device_unavailable_volumes\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_storage_device_unavailable_volumes\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_storage_device_unavailable_volumes\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_storage_device_unavailable_volumes\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_storage_device_unavailable_volumes\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: storagedevices
          componentType: OTAC_STORAGE_DEVICE
        annotations:
          componentType: OTAC_STORAGE_DEVICE
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_storage_device_unavailable_volumes',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_storage_device_unavailable_volumes',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Storage Device \"{{ $labels.componentId }}\" has {{ $value }} Unavailable Volume(s)"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_storage_device_unavailable_volumes',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_storage_device_unavailable_volumes',severity='error'})\" | first | value) -}}Storage Device \"{{ $labels.componentId }}\" has {{ $value }} unavailable volume(s), please make sure that the requested volume(s) is(are) available in order to retrieve to the requested content."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='storagedevices',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_search_federator_network_health
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_search_federator_network_health == 0) > 0) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_search_federator_network_health\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_search_federator_network_health == 0) > 0) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_search_federator_network_health\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_search_federator_network_health\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_search_federator_network_health
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_search_federator_network_health == 0) > 0) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_search_federator_network_health\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_search_federator_network_health == 0) > 0) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_search_federator_network_health\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_search_federator_network_health\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_search_federator_network_health\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_search_federator_network_health\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_search_federator_network_health\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_search_federator_network_health',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_search_federator_network_health',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Search Federator network health warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_search_federator_network_health',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_search_federator_network_health',severity='warning'})\" | first | value) -}}Search Federator \"{{ $labels.componentName }}\" has exceeded the communication retries and failures thresholds, please check the Admin Server network health."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_search_federator_network_health
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_search_federator_network_health == 0) > 0) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_search_federator_network_health\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_search_federator_network_health == 0) > 0) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_search_federator_network_health\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_search_federator_network_health\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_search_federator_network_health
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_search_federator_network_health == 0) > 0) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_search_federator_network_health\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_search_federator_network_health == 0) > 0) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_search_federator_network_health\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_search_federator_network_health\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_search_federator_network_health\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_search_federator_network_health\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_search_federator_network_health\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_search_federator_network_health',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_search_federator_network_health',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Search Federator network health warning
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_search_federator_network_health',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_search_federator_network_health',severity='error'})\" | first | value) -}}Search Federator \"{{ $labels.componentName }}\" has exceeded the communication retries and failures thresholds, please check the Admin Server network health."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_search_federator_connection
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_search_federator_connection == 0) > 0) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_search_federator_connection\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_search_federator_connection == 0) > 0) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_search_federator_connection\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_search_federator_connection\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: sov_search_federator_connection
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_search_federator_connection == 0) > 0) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_search_federator_connection\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_search_federator_connection == 0) > 0) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_search_federator_connection\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_search_federator_connection\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_search_federator_connection\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_search_federator_connection\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_search_federator_connection\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_search_federator_connection',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_search_federator_connection',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Search Federator connection error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_search_federator_connection',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_search_federator_connection',severity='warning'})\" | first | value) -}}Unable to connect to Search Federator \"{{ $labels.componentName }}\" {{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}. Search functionality might not be available."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __sov_search_federator_connection
        expr: "((count by (envId, componentId, componentName, componentClass) (otcs_sov_search_federator_connection == 0) > 0) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_search_federator_connection\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_search_federator_connection == 0) > 0) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_search_federator_connection\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_search_federator_connection\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: sov_search_federator_connection
        expr: "(((count by (envId, componentId, componentName, componentClass) (otcs_sov_search_federator_connection == 0) > 0) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"sov_search_federator_connection\"})\n  or (\n    (count by (envId, componentId, componentName, componentClass) (otcs_sov_search_federator_connection == 0) > 0) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"sov_search_federator_connection\",envId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"sov_search_federator_connection\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__sov_search_federator_connection\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"sov_search_federator_connection\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__sov_search_federator_connection\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-30s
          metricsEntity: sovstatus
          componentType: SOV
        annotations:
          componentType: SOV
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='sov_search_federator_connection',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='sov_search_federator_connection',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Search Federator connection error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='sov_search_federator_connection',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='sov_search_federator_connection',severity='error'})\" | first | value) -}}Unable to connect to Search Federator \"{{ $labels.componentName }}\" {{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}. Search functionality might not be available."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='sovstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
  - name: fuse-alerts-1m
    interval: 1m
    rules:
      - alert: __da_agent_status_stopped
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 2)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_agent_status_stopped\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 2)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_agent_status_stopped\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_agent_status_stopped\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: da_agent_status_stopped
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 2)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_agent_status_stopped\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 2)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_agent_status_stopped\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_agent_status_stopped\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_agent_status_stopped\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"da_agent_status_stopped\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_agent_status_stopped\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_agent_status_stopped',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_agent_status_stopped',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Distributed Agent \"{{ $labels.componentName }}\" Stopped"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_agent_status_stopped',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_agent_status_stopped',severity='warning'})\" | first | value) -}}Distributed Agent \"{{ $labels.componentName }}\" is stopped{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_agent_status_stopped
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 2)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_agent_status_stopped\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 2)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_agent_status_stopped\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_agent_status_stopped\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: da_agent_status_stopped
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 2)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_agent_status_stopped\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 2)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_agent_status_stopped\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_agent_status_stopped\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_agent_status_stopped\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"da_agent_status_stopped\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_agent_status_stopped\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_agent_status_stopped',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_agent_status_stopped',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Distributed Agent \"{{ $labels.componentName }}\" Stopped"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_agent_status_stopped',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_agent_status_stopped',severity='error'})\" | first | value) -}}Distributed Agent \"{{ $labels.componentName }}\" is stopped{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_agent_status_stand_by
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 4)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_agent_status_stand_by\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 4)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_agent_status_stand_by\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_agent_status_stand_by\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: da_agent_status_stand_by
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 4)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_agent_status_stand_by\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 4)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_agent_status_stand_by\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_agent_status_stand_by\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_agent_status_stand_by\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"da_agent_status_stand_by\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_agent_status_stand_by\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_agent_status_stand_by',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_agent_status_stand_by',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Distributed Agent \"{{ $labels.componentName }}\" Standing By"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_agent_status_stand_by',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_agent_status_stand_by',severity='warning'})\" | first | value) -}}Distributed Agent \"{{ $labels.componentName }}\" is standing by{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_agent_status_stand_by
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 4)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_agent_status_stand_by\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 4)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_agent_status_stand_by\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_agent_status_stand_by\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: da_agent_status_stand_by
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 4)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_agent_status_stand_by\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 4)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_agent_status_stand_by\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_agent_status_stand_by\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_agent_status_stand_by\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"da_agent_status_stand_by\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_agent_status_stand_by\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_agent_status_stand_by',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_agent_status_stand_by',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Distributed Agent \"{{ $labels.componentName }}\" Standing By"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_agent_status_stand_by',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_agent_status_stand_by',severity='error'})\" | first | value) -}}Distributed Agent \"{{ $labels.componentName }}\" is standing by{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_agent_status_offline
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 5)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_agent_status_offline\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 5)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_agent_status_offline\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_agent_status_offline\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: da_agent_status_offline
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 5)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_agent_status_offline\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 5)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_agent_status_offline\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_agent_status_offline\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_agent_status_offline\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"da_agent_status_offline\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_agent_status_offline\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_agent_status_offline',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_agent_status_offline',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Distributed Agent \"{{ $labels.componentName }}\" Offline"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_agent_status_offline',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_agent_status_offline',severity='warning'})\" | first | value) -}}Distributed Agent \"{{ $labels.componentName }}\" is offline{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_agent_status_offline
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 5)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_agent_status_offline\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 5)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_agent_status_offline\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_agent_status_offline\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: da_agent_status_offline
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 5)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_agent_status_offline\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_agent_status == 5)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_agent_status_offline\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_agent_status_offline\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_agent_status_offline\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"da_agent_status_offline\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_agent_status_offline\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_agent_status_offline',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_agent_status_offline',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Distributed Agent \"{{ $labels.componentName }}\" Offline"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_agent_status_offline',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_agent_status_offline',severity='error'})\" | first | value) -}}Distributed Agent \"{{ $labels.componentName }}\" is offline{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_worker_status_stopped
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 2)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_worker_status_stopped\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 2)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_worker_status_stopped\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_worker_status_stopped\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: da_worker_status_stopped
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 2)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_worker_status_stopped\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 2)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_worker_status_stopped\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_worker_status_stopped\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_worker_status_stopped\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"da_worker_status_stopped\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_worker_status_stopped\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_worker_status_stopped',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_worker_status_stopped',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Worker Agent \"{{ $labels.componentName }}\" Stopped"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_worker_status_stopped',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_worker_status_stopped',severity='warning'})\" | first | value) -}}Worker Agent \"{{ $labels.componentName }}\" is stopped{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_worker_status_stopped
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 2)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_worker_status_stopped\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 2)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_worker_status_stopped\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_worker_status_stopped\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: da_worker_status_stopped
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 2)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_worker_status_stopped\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 2)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_worker_status_stopped\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_worker_status_stopped\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_worker_status_stopped\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"da_worker_status_stopped\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_worker_status_stopped\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_worker_status_stopped',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_worker_status_stopped',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Worker Agent \"{{ $labels.componentName }}\" Stopped"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_worker_status_stopped',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_worker_status_stopped',severity='error'})\" | first | value) -}}Worker Agent \"{{ $labels.componentName }}\" is stopped{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_worker_status_paused
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 3)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_worker_status_paused\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 3)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_worker_status_paused\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_worker_status_paused\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: da_worker_status_paused
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 3)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_worker_status_paused\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 3)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_worker_status_paused\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_worker_status_paused\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_worker_status_paused\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"da_worker_status_paused\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_worker_status_paused\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_worker_status_paused',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_worker_status_paused',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Worker Agent \"{{ $labels.componentName }}\" Paused"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_worker_status_paused',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_worker_status_paused',severity='warning'})\" | first | value) -}}Worker Agent \"{{ $labels.componentName }}\" is paused{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_worker_status_paused
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 3)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_worker_status_paused\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 3)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_worker_status_paused\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_worker_status_paused\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: da_worker_status_paused
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 3)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_worker_status_paused\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 3)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_worker_status_paused\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_worker_status_paused\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_worker_status_paused\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"da_worker_status_paused\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_worker_status_paused\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_worker_status_paused',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_worker_status_paused',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Worker Agent \"{{ $labels.componentName }}\" Paused"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_worker_status_paused',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_worker_status_paused',severity='error'})\" | first | value) -}}Worker Agent \"{{ $labels.componentName }}\" is paused{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_worker_status_offline
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 5)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_worker_status_offline\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 5)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_worker_status_offline\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_worker_status_offline\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: da_worker_status_offline
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 5)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_worker_status_offline\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 5)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_worker_status_offline\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_worker_status_offline\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_worker_status_offline\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"da_worker_status_offline\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_worker_status_offline\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_worker_status_offline',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_worker_status_offline',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Worker Agent \"{{ $labels.componentName }}\" Offline"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_worker_status_offline',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_worker_status_offline',severity='warning'})\" | first | value) -}}Worker Agent \"{{ $labels.componentName }}\" is offline{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_worker_status_offline
        expr: "((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 5)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_worker_status_offline\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 5)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_worker_status_offline\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_worker_status_offline\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: da_worker_status_offline
        expr: "(((count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 5)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_worker_status_offline\"})\n  or (\n    (count by (systemId, envId, componentId, componentName, componentClass) (otcs_da_worker_status == 5)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_worker_status_offline\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_worker_status_offline\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_worker_status_offline\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"da_worker_status_offline\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_worker_status_offline\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_worker_status_offline',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_worker_status_offline',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Worker Agent \"{{ $labels.componentName }}\" Offline"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_worker_status_offline',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_worker_status_offline',severity='error'})\" | first | value) -}}Worker Agent \"{{ $labels.componentName }}\" is offline{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_primary_agent_undefined
        expr: "((sum by (envId) ( otcs_da_primary_agent_defined ) and sum by (envId) (otcs_da_agents_total_count) > 1) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_primary_agent_undefined\"})\n  or (\n    (sum by (envId) ( otcs_da_primary_agent_defined ) and sum by (envId) (otcs_da_agents_total_count) > 1) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_primary_agent_undefined\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"da_primary_agent_undefined\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: da_primary_agent_undefined
        expr: "(((sum by (envId) ( otcs_da_primary_agent_defined ) and sum by (envId) (otcs_da_agents_total_count) > 1) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_primary_agent_undefined\"})\n  or (\n    (sum by (envId) ( otcs_da_primary_agent_defined ) and sum by (envId) (otcs_da_agents_total_count) > 1) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_primary_agent_undefined\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"da_primary_agent_undefined\",severity=\"warning\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_primary_agent_undefined\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"da_primary_agent_undefined\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_primary_agent_undefined\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_primary_agent_undefined',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_primary_agent_undefined',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Primary Distributed Agent not defined
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_primary_agent_undefined',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_primary_agent_undefined',severity='warning'})\" | first | value) -}}No Distributed Agent has been selected as the Primary Agent."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_primary_agent_undefined
        expr: "((sum by (envId) ( otcs_da_primary_agent_defined ) and sum by (envId) (otcs_da_agents_total_count) > 1) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_primary_agent_undefined\"})\n  or (\n    (sum by (envId) ( otcs_da_primary_agent_defined ) and sum by (envId) (otcs_da_agents_total_count) > 1) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_primary_agent_undefined\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"da_primary_agent_undefined\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: da_primary_agent_undefined
        expr: "(((sum by (envId) ( otcs_da_primary_agent_defined ) and sum by (envId) (otcs_da_agents_total_count) > 1) unless ignoring (metricsEntity) (\n  max by (envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_primary_agent_undefined\"})\n  or (\n    (sum by (envId) ( otcs_da_primary_agent_defined ) and sum by (envId) (otcs_da_agents_total_count) > 1) * 0 + \n    ignoring (metricsEntity, envId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_primary_agent_undefined\",envId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"da_primary_agent_undefined\",severity=\"error\"}))) and (                        (((\n    (max by(envId) (otcs_heartbeat_last_time) unless on (envId) min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) < min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"})) or\n    (max by(envId) (otcs_heartbeat_last_time) * 0 + on(envId) group_left min by(envId) (fuse_maintenance_window_start_time{systemId=\"\"}))\n)\n- on(envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_primary_agent_undefined\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"da_primary_agent_undefined\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_primary_agent_undefined\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_primary_agent_undefined',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_primary_agent_undefined',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Primary Distributed Agent not defined
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_primary_agent_undefined',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_primary_agent_undefined',severity='error'})\" | first | value) -}}No Distributed Agent has been selected as the Primary Agent."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_total_task_error
        expr: "((sum by (systemId, envId, componentClass, componentName, componentId) (otcs_da_total_task_error)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_total_task_error\"})\n  or (\n    (sum by (systemId, envId, componentClass, componentName, componentId) (otcs_da_total_task_error)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_total_task_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_total_task_error\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: da_total_task_error
        expr: "(((sum by (systemId, envId, componentClass, componentName, componentId) (otcs_da_total_task_error)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_total_task_error\"})\n  or (\n    (sum by (systemId, envId, componentClass, componentName, componentId) (otcs_da_total_task_error)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_total_task_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_total_task_error\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_total_task_error\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"da_total_task_error\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_total_task_error\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_total_task_error',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_total_task_error',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Distributed Agent Task Error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_total_task_error',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_total_task_error',severity='warning'})\" | first | value) -}}Distributed agent \"{{ $labels.componentId }}\" has {{ $value }} task errors."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_total_task_error
        expr: "((sum by (systemId, envId, componentClass, componentName, componentId) (otcs_da_total_task_error)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_total_task_error\"})\n  or (\n    (sum by (systemId, envId, componentClass, componentName, componentId) (otcs_da_total_task_error)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_total_task_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_total_task_error\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: da_total_task_error
        expr: "(((sum by (systemId, envId, componentClass, componentName, componentId) (otcs_da_total_task_error)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_total_task_error\"})\n  or (\n    (sum by (systemId, envId, componentClass, componentName, componentId) (otcs_da_total_task_error)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_total_task_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"da_total_task_error\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_total_task_error\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"da_total_task_error\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_total_task_error\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_total_task_error',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_total_task_error',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Distributed Agent Task Error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_total_task_error',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_total_task_error',severity='error'})\" | first | value) -}}Distributed agent \"{{ $labels.componentId }}\" has {{ $value }} task errors."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_is_da_worker_available
        expr: "((sum by (systemId, envId) (otcs_is_da_worker_available) == 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_is_da_worker_available\"})\n  or (\n    (sum by (systemId, envId) (otcs_is_da_worker_available) == 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_is_da_worker_available\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"da_is_da_worker_available\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: da_is_da_worker_available
        expr: "(((sum by (systemId, envId) (otcs_is_da_worker_available) == 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_is_da_worker_available\"})\n  or (\n    (sum by (systemId, envId) (otcs_is_da_worker_available) == 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_is_da_worker_available\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"da_is_da_worker_available\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_is_da_worker_available\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"da_is_da_worker_available\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_is_da_worker_available\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_is_da_worker_available',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_is_da_worker_available',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Worker Agent Subsystem Status Error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_is_da_worker_available',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_is_da_worker_available',severity='warning'})\" | first | value) -}}Error while attempting to retrieve the status of the Worker subsystem."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_is_da_worker_available
        expr: "((sum by (systemId, envId) (otcs_is_da_worker_available) == 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_is_da_worker_available\"})\n  or (\n    (sum by (systemId, envId) (otcs_is_da_worker_available) == 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_is_da_worker_available\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"da_is_da_worker_available\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: da_is_da_worker_available
        expr: "(((sum by (systemId, envId) (otcs_is_da_worker_available) == 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_is_da_worker_available\"})\n  or (\n    (sum by (systemId, envId) (otcs_is_da_worker_available) == 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_is_da_worker_available\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"da_is_da_worker_available\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_is_da_worker_available\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"da_is_da_worker_available\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_is_da_worker_available\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_is_da_worker_available',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_is_da_worker_available',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Worker Agent Subsystem Status Error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_is_da_worker_available',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_is_da_worker_available',severity='error'})\" | first | value) -}}Error while attempting to retrieve the status of the Worker subsystem."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_is_da_agent_available
        expr: "((sum by (systemId, envId) (otcs_is_da_agent_available) == 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_is_da_agent_available\"})\n  or (\n    (sum by (systemId, envId) (otcs_is_da_agent_available) == 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_is_da_agent_available\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"da_is_da_agent_available\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: da_is_da_agent_available
        expr: "(((sum by (systemId, envId) (otcs_is_da_agent_available) == 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_is_da_agent_available\"})\n  or (\n    (sum by (systemId, envId) (otcs_is_da_agent_available) == 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_is_da_agent_available\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"da_is_da_agent_available\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_is_da_agent_available\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"da_is_da_agent_available\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_is_da_agent_available\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_is_da_agent_available',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_is_da_agent_available',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Distributed Agent Subsystem Status Error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_is_da_agent_available',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_is_da_agent_available',severity='warning'})\" | first | value) -}}Error while attempting to retrieve the status of the Distributed Agent subsystem."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __da_is_da_agent_available
        expr: "((sum by (systemId, envId) (otcs_is_da_agent_available) == 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_is_da_agent_available\"})\n  or (\n    (sum by (systemId, envId) (otcs_is_da_agent_available) == 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_is_da_agent_available\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"da_is_da_agent_available\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: da_is_da_agent_available
        expr: "(((sum by (systemId, envId) (otcs_is_da_agent_available) == 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"da_is_da_agent_available\"})\n  or (\n    (sum by (systemId, envId) (otcs_is_da_agent_available) == 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"da_is_da_agent_available\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"da_is_da_agent_available\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__da_is_da_agent_available\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"da_is_da_agent_available\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__da_is_da_agent_available\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-1m
          metricsEntity: dasystemprocesses
          componentType: DISTRIBUTED_AGENT
        annotations:
          componentType: DISTRIBUTED_AGENT
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='da_is_da_agent_available',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='da_is_da_agent_available',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Distributed Agent Subsystem Status Error
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='da_is_da_agent_available',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='da_is_da_agent_available',severity='error'})\" | first | value) -}}Error while attempting to retrieve the status of the Distributed Agent subsystem."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='dasystemprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __agent_nextstart_failed
        expr: "((otcs_heartbeat_last_time - on(systemId, envId) group_right() (min by (systemId, envId, componentId, componentName, componentClass) (otcs_agent_nextstart_seconds) + scalar(min(fuse_alert_for{alertname=\"agent_nextstart_failed\",severity=\"warning\"}))) and max by(systemId, envId, componentId, componentName, componentClass) (otcs_agent_activated) > 0 and max by(systemId, envId, componentId, componentName, componentClass) (otcs_agent_enabled) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"agent_nextstart_failed\"})\n  or (\n    (otcs_heartbeat_last_time - on(systemId, envId) group_right() (min by (systemId, envId, componentId, componentName, componentClass) (otcs_agent_nextstart_seconds) + scalar(min(fuse_alert_for{alertname=\"agent_nextstart_failed\",severity=\"warning\"}))) and max by(systemId, envId, componentId, componentName, componentClass) (otcs_agent_activated) > 0 and max by(systemId, envId, componentId, componentName, componentClass) (otcs_agent_enabled) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"agent_nextstart_failed\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"agent_nextstart_failed\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: agent_nextstart_failed
        expr: "(((otcs_heartbeat_last_time - on(systemId, envId) group_right() (min by (systemId, envId, componentId, componentName, componentClass) (otcs_agent_nextstart_seconds) + scalar(min(fuse_alert_for{alertname=\"agent_nextstart_failed\",severity=\"warning\"}))) and max by(systemId, envId, componentId, componentName, componentClass) (otcs_agent_activated) > 0 and max by(systemId, envId, componentId, componentName, componentClass) (otcs_agent_enabled) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"agent_nextstart_failed\"})\n  or (\n    (otcs_heartbeat_last_time - on(systemId, envId) group_right() (min by (systemId, envId, componentId, componentName, componentClass) (otcs_agent_nextstart_seconds) + scalar(min(fuse_alert_for{alertname=\"agent_nextstart_failed\",severity=\"warning\"}))) and max by(systemId, envId, componentId, componentName, componentClass) (otcs_agent_activated) > 0 and max by(systemId, envId, componentId, componentName, componentClass) (otcs_agent_enabled) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"agent_nextstart_failed\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"agent_nextstart_failed\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__agent_nextstart_failed\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"agent_nextstart_failed\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__agent_nextstart_failed\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-1m
          metricsEntity: agentstatus
          componentType: AGENTS
        annotations:
          componentType: AGENTS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='agent_nextstart_failed',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='agent_nextstart_failed',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Agent Scheduled Next Run Failed
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='agent_nextstart_failed',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='agent_nextstart_failed',severity='warning'})\" | first | value) -}}Agent \"{{ $labels.componentName }}\" has failed its scheduled next run{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='agentstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __agent_nextstart_failed
        expr: "((otcs_heartbeat_last_time - on(systemId, envId) group_right() (min by (systemId, envId, componentId, componentName, componentClass) (otcs_agent_nextstart_seconds) + scalar(min(fuse_alert_for{alertname=\"agent_nextstart_failed\",severity=\"error\"}))) and max by(systemId, envId, componentId, componentName, componentClass) (otcs_agent_activated) > 0 and max by(systemId, envId, componentId, componentName, componentClass) (otcs_agent_enabled) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"agent_nextstart_failed\"})\n  or (\n    (otcs_heartbeat_last_time - on(systemId, envId) group_right() (min by (systemId, envId, componentId, componentName, componentClass) (otcs_agent_nextstart_seconds) + scalar(min(fuse_alert_for{alertname=\"agent_nextstart_failed\",severity=\"error\"}))) and max by(systemId, envId, componentId, componentName, componentClass) (otcs_agent_activated) > 0 and max by(systemId, envId, componentId, componentName, componentClass) (otcs_agent_enabled) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"agent_nextstart_failed\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"agent_nextstart_failed\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: agent_nextstart_failed
        expr: "(((otcs_heartbeat_last_time - on(systemId, envId) group_right() (min by (systemId, envId, componentId, componentName, componentClass) (otcs_agent_nextstart_seconds) + scalar(min(fuse_alert_for{alertname=\"agent_nextstart_failed\",severity=\"error\"}))) and max by(systemId, envId, componentId, componentName, componentClass) (otcs_agent_activated) > 0 and max by(systemId, envId, componentId, componentName, componentClass) (otcs_agent_enabled) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"agent_nextstart_failed\"})\n  or (\n    (otcs_heartbeat_last_time - on(systemId, envId) group_right() (min by (systemId, envId, componentId, componentName, componentClass) (otcs_agent_nextstart_seconds) + scalar(min(fuse_alert_for{alertname=\"agent_nextstart_failed\",severity=\"error\"}))) and max by(systemId, envId, componentId, componentName, componentClass) (otcs_agent_activated) > 0 and max by(systemId, envId, componentId, componentName, componentClass) (otcs_agent_enabled) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"agent_nextstart_failed\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"agent_nextstart_failed\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__agent_nextstart_failed\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"agent_nextstart_failed\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__agent_nextstart_failed\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-1m
          metricsEntity: agentstatus
          componentType: AGENTS
        annotations:
          componentType: AGENTS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='agent_nextstart_failed',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='agent_nextstart_failed',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Agent Scheduled Next Run Failed
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='agent_nextstart_failed',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='agent_nextstart_failed',severity='error'})\" | first | value) -}}Agent \"{{ $labels.componentName }}\" has failed its scheduled next run{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='agentstatus',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __health_disk
        expr: "((sum by (name) (1 - (fuse_health_os_disk_free/fuse_health_os_disk_total))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_disk\"})\n  or (\n    (sum by (name) (1 - (fuse_health_os_disk_free/fuse_health_os_disk_total))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_disk\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"health_disk\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: health_disk
        expr: "(((sum by (name) (1 - (fuse_health_os_disk_free/fuse_health_os_disk_total))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_disk\"})\n  or (\n    (sum by (name) (1 - (fuse_health_os_disk_free/fuse_health_os_disk_total))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_disk\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"health_disk\",severity=\"warning\"}))) and (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__health_disk\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"health_disk\",severity=\"warning\"}))) and\nmin without (alertname, severity, alertstate) (ALERTS{alertname=\"__health_disk\",severity=\"warning\"}))"
        labels:
          adminAlert: "true"
          severity: warning
          ruleGroup: fuse-alerts-1m
          componentType: HEALTH
        annotations:
          componentType: HEALTH
          below: "false"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='health_disk',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='health_disk',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Disk Space Status
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='health_disk',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='health_disk',severity='warning'})\" | first | value) -}}Fuse Management Central application disk space has reached critical level."
      - alert: __health_disk
        expr: "((sum by (name) (1 - (fuse_health_os_disk_free/fuse_health_os_disk_total))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_disk\"})\n  or (\n    (sum by (name) (1 - (fuse_health_os_disk_free/fuse_health_os_disk_total))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_disk\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"health_disk\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: health_disk
        expr: "(((sum by (name) (1 - (fuse_health_os_disk_free/fuse_health_os_disk_total))) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_disk\"})\n  or (\n    (sum by (name) (1 - (fuse_health_os_disk_free/fuse_health_os_disk_total))) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_disk\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"health_disk\",severity=\"error\"}))) and (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__health_disk\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"health_disk\",severity=\"error\"}))) and\nmin without (alertname, severity, alertstate) (ALERTS{alertname=\"__health_disk\",severity=\"error\"}))"
        labels:
          adminAlert: "true"
          severity: error
          ruleGroup: fuse-alerts-1m
          componentType: HEALTH
        annotations:
          componentType: HEALTH
          below: "false"
          units: PERCENTAGE
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='health_disk',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='health_disk',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Disk Space Status
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='health_disk',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='health_disk',severity='error'})\" | first | value) -}}Fuse Management Central application disk space has reached critical level."
      - alert: __health_prometheus
        expr: "((count by (status) (fuse_health{componentId=\"prometheus\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_prometheus\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"prometheus\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_prometheus\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_prometheus\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: health_prometheus
        expr: "(((count by (status) (fuse_health{componentId=\"prometheus\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_prometheus\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"prometheus\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_prometheus\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_prometheus\",severity=\"warning\"}))) and (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__health_prometheus\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"health_prometheus\",severity=\"warning\"}))) and\nmin without (alertname, severity, alertstate) (ALERTS{alertname=\"__health_prometheus\",severity=\"warning\"}))"
        labels:
          adminAlert: "true"
          severity: warning
          ruleGroup: fuse-alerts-1m
          componentType: HEALTH
        annotations:
          componentType: HEALTH
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='health_prometheus',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='health_prometheus',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Metrics Database Status
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='health_prometheus',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='health_prometheus',severity='warning'})\" | first | value) -}}Fuse Management Central Metrics Database is not available."
      - alert: __health_prometheus
        expr: "((count by (status) (fuse_health{componentId=\"prometheus\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_prometheus\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"prometheus\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_prometheus\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_prometheus\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: health_prometheus
        expr: "(((count by (status) (fuse_health{componentId=\"prometheus\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_prometheus\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"prometheus\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_prometheus\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_prometheus\",severity=\"error\"}))) and (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__health_prometheus\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"health_prometheus\",severity=\"error\"}))) and\nmin without (alertname, severity, alertstate) (ALERTS{alertname=\"__health_prometheus\",severity=\"error\"}))"
        labels:
          adminAlert: "true"
          severity: error
          ruleGroup: fuse-alerts-1m
          componentType: HEALTH
        annotations:
          componentType: HEALTH
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='health_prometheus',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='health_prometheus',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Metrics Database Status
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='health_prometheus',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='health_prometheus',severity='error'})\" | first | value) -}}Fuse Management Central Metrics Database is not available."
      - alert: __health_mail
        expr: "((count by (status) (fuse_health{componentId=\"mail\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_mail\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"mail\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_mail\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_mail\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: health_mail
        expr: "(((count by (status) (fuse_health{componentId=\"mail\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_mail\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"mail\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_mail\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_mail\",severity=\"warning\"}))) and (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__health_mail\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"health_mail\",severity=\"warning\"}))) and\nmin without (alertname, severity, alertstate) (ALERTS{alertname=\"__health_mail\",severity=\"warning\"}))"
        labels:
          adminAlert: "true"
          severity: warning
          ruleGroup: fuse-alerts-1m
          componentType: HEALTH
        annotations:
          componentType: HEALTH
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='health_mail',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='health_mail',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Mail Status
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='health_mail',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='health_mail',severity='warning'})\" | first | value) -}}SMTP Server is not available."
      - alert: __health_mail
        expr: "((count by (status) (fuse_health{componentId=\"mail\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_mail\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"mail\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_mail\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_mail\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: health_mail
        expr: "(((count by (status) (fuse_health{componentId=\"mail\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_mail\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"mail\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_mail\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_mail\",severity=\"error\"}))) and (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__health_mail\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"health_mail\",severity=\"error\"}))) and\nmin without (alertname, severity, alertstate) (ALERTS{alertname=\"__health_mail\",severity=\"error\"}))"
        labels:
          adminAlert: "true"
          severity: error
          ruleGroup: fuse-alerts-1m
          componentType: HEALTH
        annotations:
          componentType: HEALTH
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='health_mail',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='health_mail',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Mail Status
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='health_mail',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='health_mail',severity='error'})\" | first | value) -}}SMTP Server is not available."
      - alert: __health_database
        expr: "((count by (status) (fuse_health{componentId=\"database\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_database\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"database\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_database\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_database\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: health_database
        expr: "(((count by (status) (fuse_health{componentId=\"database\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_database\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"database\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_database\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_database\",severity=\"warning\"}))) and (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__health_database\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"health_database\",severity=\"warning\"}))) and\nmin without (alertname, severity, alertstate) (ALERTS{alertname=\"__health_database\",severity=\"warning\"}))"
        labels:
          adminAlert: "true"
          severity: warning
          ruleGroup: fuse-alerts-1m
          componentType: HEALTH
        annotations:
          componentType: HEALTH
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='health_database',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='health_database',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Database Status
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='health_database',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='health_database',severity='warning'})\" | first | value) -}}Fuse Management Central Database is not available."
      - alert: __health_database
        expr: "((count by (status) (fuse_health{componentId=\"database\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_database\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"database\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_database\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_database\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: health_database
        expr: "(((count by (status) (fuse_health{componentId=\"database\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_database\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"database\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_database\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_database\",severity=\"error\"}))) and (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__health_database\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"health_database\",severity=\"error\"}))) and\nmin without (alertname, severity, alertstate) (ALERTS{alertname=\"__health_database\",severity=\"error\"}))"
        labels:
          adminAlert: "true"
          severity: error
          ruleGroup: fuse-alerts-1m
          componentType: HEALTH
        annotations:
          componentType: HEALTH
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='health_database',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='health_database',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Database Status
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='health_database',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='health_database',severity='error'})\" | first | value) -}}Fuse Management Central Database is not available."
      - alert: __health_alert_manager
        expr: "((count by (status) (fuse_health{componentId=\"alert_manager\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_alert_manager\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"alert_manager\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_alert_manager\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_alert_manager\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: health_alert_manager
        expr: "(((count by (status) (fuse_health{componentId=\"alert_manager\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_alert_manager\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"alert_manager\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_alert_manager\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_alert_manager\",severity=\"warning\"}))) and (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__health_alert_manager\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"health_alert_manager\",severity=\"warning\"}))) and\nmin without (alertname, severity, alertstate) (ALERTS{alertname=\"__health_alert_manager\",severity=\"warning\"}))"
        labels:
          adminAlert: "true"
          severity: warning
          ruleGroup: fuse-alerts-1m
          componentType: HEALTH
        annotations:
          componentType: HEALTH
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='health_alert_manager',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='health_alert_manager',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Alert Manager Status
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='health_alert_manager',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='health_alert_manager',severity='warning'})\" | first | value) -}}Fuse Management Central Alert Manager is not available."
      - alert: __health_alert_manager
        expr: "((count by (status) (fuse_health{componentId=\"alert_manager\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_alert_manager\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"alert_manager\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_alert_manager\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_alert_manager\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: health_alert_manager
        expr: "(((count by (status) (fuse_health{componentId=\"alert_manager\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_alert_manager\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"alert_manager\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_alert_manager\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_alert_manager\",severity=\"error\"}))) and (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__health_alert_manager\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"health_alert_manager\",severity=\"error\"}))) and\nmin without (alertname, severity, alertstate) (ALERTS{alertname=\"__health_alert_manager\",severity=\"error\"}))"
        labels:
          adminAlert: "true"
          severity: error
          ruleGroup: fuse-alerts-1m
          componentType: HEALTH
        annotations:
          componentType: HEALTH
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='health_alert_manager',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='health_alert_manager',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: Alert Manager Status
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='health_alert_manager',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='health_alert_manager',severity='error'})\" | first | value) -}}Fuse Management Central Alert Manager is not available."
      - alert: __health_service_now
        expr: "((count by (status) (fuse_health{componentId=\"service_now\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_service_now\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"service_now\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_service_now\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_service_now\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: health_service_now
        expr: "(((count by (status) (fuse_health{componentId=\"service_now\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_service_now\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"service_now\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_service_now\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_service_now\",severity=\"warning\"}))) and (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__health_service_now\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"health_service_now\",severity=\"warning\"}))) and\nmin without (alertname, severity, alertstate) (ALERTS{alertname=\"__health_service_now\",severity=\"warning\"}))"
        labels:
          adminAlert: "true"
          severity: warning
          ruleGroup: fuse-alerts-1m
          componentType: HEALTH
        annotations:
          componentType: HEALTH
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='health_service_now',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='health_service_now',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: ServiceNow Status
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='health_service_now',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='health_service_now',severity='warning'})\" | first | value) -}}ServiceNow is not available."
      - alert: __health_service_now
        expr: "((count by (status) (fuse_health{componentId=\"service_now\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_service_now\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"service_now\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_service_now\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_service_now\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: health_service_now
        expr: "(((count by (status) (fuse_health{componentId=\"service_now\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_service_now\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"service_now\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_service_now\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_service_now\",severity=\"error\"}))) and (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__health_service_now\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"health_service_now\",severity=\"error\"}))) and\nmin without (alertname, severity, alertstate) (ALERTS{alertname=\"__health_service_now\",severity=\"error\"}))"
        labels:
          adminAlert: "true"
          severity: error
          ruleGroup: fuse-alerts-1m
          componentType: HEALTH
        annotations:
          componentType: HEALTH
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='health_service_now',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='health_service_now',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: ServiceNow Status
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='health_service_now',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='health_service_now',severity='error'})\" | first | value) -}}ServiceNow is not available."
      - alert: __health_smax
        expr: "((count by (status) (fuse_health{componentId=\"smax\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_smax\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"smax\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_smax\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_smax\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: health_smax
        expr: "(((count by (status) (fuse_health{componentId=\"smax\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_smax\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"smax\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_smax\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_smax\",severity=\"warning\"}))) and (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__health_smax\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"health_smax\",severity=\"warning\"}))) and\nmin without (alertname, severity, alertstate) (ALERTS{alertname=\"__health_smax\",severity=\"warning\"}))"
        labels:
          adminAlert: "true"
          severity: warning
          ruleGroup: fuse-alerts-1m
          componentType: HEALTH
        annotations:
          componentType: HEALTH
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='health_smax',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='health_smax',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: SMAX Status
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='health_smax',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='health_smax',severity='warning'})\" | first | value) -}}SMAX is not available."
      - alert: __health_smax
        expr: "((count by (status) (fuse_health{componentId=\"smax\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_smax\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"smax\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_smax\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_smax\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: health_smax
        expr: "(((count by (status) (fuse_health{componentId=\"smax\"} == 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"health_smax\"})\n  or (\n    (count by (status) (fuse_health{componentId=\"smax\"} == 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"health_smax\",systemId=\"\"})\n  )\n)) <= scalar(min(fuse_alert_threshold{alertname=\"health_smax\",severity=\"error\"}))) and (((time() - min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__health_smax\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"health_smax\",severity=\"error\"}))) and\nmin without (alertname, severity, alertstate) (ALERTS{alertname=\"__health_smax\",severity=\"error\"}))"
        labels:
          adminAlert: "true"
          severity: error
          ruleGroup: fuse-alerts-1m
          componentType: HEALTH
        annotations:
          componentType: HEALTH
          below: "true"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='health_smax',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='health_smax',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: SMAX Status
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='health_smax',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='health_smax',severity='error'})\" | first | value) -}}SMAX is not available."
      - alert: __agents_loader_false_configuration
        expr: "((sum by (systemId, envId, componentId, componentName) (otcs_loaderprocess_alive{componentName=\"agents\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableAgents\"} == 0) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"agents_loader_false_configuration\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName) (otcs_loaderprocess_alive{componentName=\"agents\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableAgents\"} == 0) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"agents_loader_false_configuration\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"agents_loader_false_configuration\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: agents_loader_false_configuration
        expr: "(((sum by (systemId, envId, componentId, componentName) (otcs_loaderprocess_alive{componentName=\"agents\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableAgents\"} == 0) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"agents_loader_false_configuration\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName) (otcs_loaderprocess_alive{componentName=\"agents\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableAgents\"} == 0) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"agents_loader_false_configuration\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"agents_loader_false_configuration\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__agents_loader_false_configuration\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"agents_loader_false_configuration\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__agents_loader_false_configuration\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-1m
          metricsEntity: loaderprocesses
          componentType: LOADERS
        annotations:
          componentType: LOADERS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='agents_loader_false_configuration',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='agents_loader_false_configuration',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: System agents loader configuration
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='agents_loader_false_configuration',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='agents_loader_false_configuration',severity='warning'})\" | first | value) -}}Loader 'agents' is enabled but the 'EnableAgents' configuration is set to FALSE, causing it to not run properly."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='loaderprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __agents_loader_false_configuration
        expr: "((sum by (systemId, envId, componentId, componentName) (otcs_loaderprocess_alive{componentName=\"agents\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableAgents\"} == 0) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"agents_loader_false_configuration\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName) (otcs_loaderprocess_alive{componentName=\"agents\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableAgents\"} == 0) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"agents_loader_false_configuration\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"agents_loader_false_configuration\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: agents_loader_false_configuration
        expr: "(((sum by (systemId, envId, componentId, componentName) (otcs_loaderprocess_alive{componentName=\"agents\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableAgents\"} == 0) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"agents_loader_false_configuration\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName) (otcs_loaderprocess_alive{componentName=\"agents\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableAgents\"} == 0) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"agents_loader_false_configuration\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"agents_loader_false_configuration\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__agents_loader_false_configuration\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"agents_loader_false_configuration\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__agents_loader_false_configuration\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-1m
          metricsEntity: loaderprocesses
          componentType: LOADERS
        annotations:
          componentType: LOADERS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='agents_loader_false_configuration',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='agents_loader_false_configuration',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: System agents loader configuration
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='agents_loader_false_configuration',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='agents_loader_false_configuration',severity='error'})\" | first | value) -}}Loader 'agents' is enabled but the 'EnableAgents' configuration is set to FALSE, causing it to not run properly."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='loaderprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __notify_loader_false_configuration
        expr: "((sum by (systemId, envId, componentId, componentName) (otcs_loaderprocess_alive{componentName=\"notify\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableNotification\"} == 0) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"notify_loader_false_configuration\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName) (otcs_loaderprocess_alive{componentName=\"notify\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableNotification\"} == 0) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"notify_loader_false_configuration\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"notify_loader_false_configuration\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: notify_loader_false_configuration
        expr: "(((sum by (systemId, envId, componentId, componentName) (otcs_loaderprocess_alive{componentName=\"notify\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableNotification\"} == 0) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"notify_loader_false_configuration\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName) (otcs_loaderprocess_alive{componentName=\"notify\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableNotification\"} == 0) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"notify_loader_false_configuration\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"notify_loader_false_configuration\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__notify_loader_false_configuration\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"notify_loader_false_configuration\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__notify_loader_false_configuration\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-1m
          metricsEntity: loaderprocesses
          componentType: LOADERS
        annotations:
          componentType: LOADERS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='notify_loader_false_configuration',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='notify_loader_false_configuration',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: System notify loader configuration
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='notify_loader_false_configuration',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='notify_loader_false_configuration',severity='warning'})\" | first | value) -}}Loader 'notify' is enabled but the 'EnableNotifications' configuration is set to FALSE, causing it to not run properly."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='loaderprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __notify_loader_false_configuration
        expr: "((sum by (systemId, envId, componentId, componentName) (otcs_loaderprocess_alive{componentName=\"notify\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableNotification\"} == 0) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"notify_loader_false_configuration\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName) (otcs_loaderprocess_alive{componentName=\"notify\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableNotification\"} == 0) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"notify_loader_false_configuration\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"notify_loader_false_configuration\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: notify_loader_false_configuration
        expr: "(((sum by (systemId, envId, componentId, componentName) (otcs_loaderprocess_alive{componentName=\"notify\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableNotification\"} == 0) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"notify_loader_false_configuration\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName) (otcs_loaderprocess_alive{componentName=\"notify\"} == 1 and on (systemId) otcs_system_configurations{componentId=\"processes_options_EnableNotification\"} == 0) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"notify_loader_false_configuration\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"notify_loader_false_configuration\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__notify_loader_false_configuration\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"notify_loader_false_configuration\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__notify_loader_false_configuration\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-1m
          metricsEntity: loaderprocesses
          componentType: LOADERS
        annotations:
          componentType: LOADERS
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='notify_loader_false_configuration',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='notify_loader_false_configuration',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: System notify loader configuration
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='notify_loader_false_configuration',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='notify_loader_false_configuration',severity='error'})\" | first | value) -}}Loader 'notify' is enabled but the 'EnableNotifications' configuration is set to FALSE, causing it to not run properly."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='loaderprocesses',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
  - name: fuse-alerts-2m
    interval: 2m
    rules:
      - alert: __otac_job_has_protocol_error
        expr: "((max by (systemId, envId, componentId, componentName, componentClass) (otac_job_has_protocol_error > 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_job_has_protocol_error\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otac_job_has_protocol_error > 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_job_has_protocol_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_job_has_protocol_error\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: otac_job_has_protocol_error
        expr: "(((max by (systemId, envId, componentId, componentName, componentClass) (otac_job_has_protocol_error > 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_job_has_protocol_error\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otac_job_has_protocol_error > 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_job_has_protocol_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_job_has_protocol_error\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_job_has_protocol_error\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_job_has_protocol_error\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_job_has_protocol_error\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-2m
          metricsEntity: jobs
          componentType: OTAC_JOB
        annotations:
          componentType: OTAC_JOB
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_job_has_protocol_error',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_job_has_protocol_error',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Job \"{{ $labels.componentName }}\" Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_job_has_protocol_error',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_job_has_protocol_error',severity='warning'})\" | first | value) -}}Job \"{{ $labels.componentName }}\" has returned protocols errors"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='jobs',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_job_has_protocol_error
        expr: "((max by (systemId, envId, componentId, componentName, componentClass) (otac_job_has_protocol_error > 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_job_has_protocol_error\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otac_job_has_protocol_error > 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_job_has_protocol_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_job_has_protocol_error\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: otac_job_has_protocol_error
        expr: "(((max by (systemId, envId, componentId, componentName, componentClass) (otac_job_has_protocol_error > 0)) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_job_has_protocol_error\"})\n  or (\n    (max by (systemId, envId, componentId, componentName, componentClass) (otac_job_has_protocol_error > 0)) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_job_has_protocol_error\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_job_has_protocol_error\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_job_has_protocol_error\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_job_has_protocol_error\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_job_has_protocol_error\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-2m
          metricsEntity: jobs
          componentType: OTAC_JOB
        annotations:
          componentType: OTAC_JOB
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_job_has_protocol_error',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_job_has_protocol_error',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Job \"{{ $labels.componentName }}\" Error"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_job_has_protocol_error',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_job_has_protocol_error',severity='error'})\" | first | value) -}}Job \"{{ $labels.componentName }}\" has returned protocols errors"
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='jobs',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_dp_queue_has_errors
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_errors_count) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_dp_queue_has_errors\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_errors_count) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_dp_queue_has_errors\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_dp_queue_has_errors\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: otac_dp_queue_has_errors
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_errors_count) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_dp_queue_has_errors\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_errors_count) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_dp_queue_has_errors\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_dp_queue_has_errors\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_dp_queue_has_errors\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_dp_queue_has_errors\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_dp_queue_has_errors\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-2m
          metricsEntity: documentpipelines
          componentType: OTAC_DOCUMENT_PIPELINES
        annotations:
          componentType: OTAC_DOCUMENT_PIPELINES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_dp_queue_has_errors',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_dp_queue_has_errors',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "DocTool \"{{ reReplaceAll \"^[^>]+ > (.*)$\" \"$1\" $labels.componentName }}\" has Error Document(s)"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_dp_queue_has_errors',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_dp_queue_has_errors',severity='warning'})\" | first | value) -}}DocTool \"{{ $labels.componentName }}\" has document(s) in the error queue."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='documentpipelines',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_dp_queue_has_errors
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_errors_count) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_dp_queue_has_errors\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_errors_count) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_dp_queue_has_errors\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_dp_queue_has_errors\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: otac_dp_queue_has_errors
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_errors_count) > 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_dp_queue_has_errors\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_errors_count) > 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_dp_queue_has_errors\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_dp_queue_has_errors\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_dp_queue_has_errors\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_dp_queue_has_errors\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_dp_queue_has_errors\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-2m
          metricsEntity: documentpipelines
          componentType: OTAC_DOCUMENT_PIPELINES
        annotations:
          componentType: OTAC_DOCUMENT_PIPELINES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_dp_queue_has_errors',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_dp_queue_has_errors',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "DocTool \"{{ reReplaceAll \"^[^>]+ > (.*)$\" \"$1\" $labels.componentName }}\" has Error Document(s)"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_dp_queue_has_errors',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_dp_queue_has_errors',severity='error'})\" | first | value) -}}DocTool \"{{ $labels.componentName }}\" has document(s) in the error queue."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='documentpipelines',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_dp_queue_disabled
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 2) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_dp_queue_disabled\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 2) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_dp_queue_disabled\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_dp_queue_disabled\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: otac_dp_queue_disabled
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 2) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_dp_queue_disabled\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 2) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_dp_queue_disabled\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_dp_queue_disabled\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_dp_queue_disabled\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_dp_queue_disabled\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_dp_queue_disabled\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-2m
          metricsEntity: documentpipelines
          componentType: OTAC_DOCUMENT_PIPELINES
        annotations:
          componentType: OTAC_DOCUMENT_PIPELINES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_dp_queue_disabled',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_dp_queue_disabled',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "DocTool \"{{ reReplaceAll \"^[^>]+ > (.*)$\" \"$1\" $labels.componentName }}\" is Disabled"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_dp_queue_disabled',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_dp_queue_disabled',severity='warning'})\" | first | value) -}}DocTool \"{{ $labels.componentName }}\" is disabled,{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='documentpipelines',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_dp_queue_disabled
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 2) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_dp_queue_disabled\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 2) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_dp_queue_disabled\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_dp_queue_disabled\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: otac_dp_queue_disabled
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 2) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_dp_queue_disabled\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 2) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_dp_queue_disabled\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_dp_queue_disabled\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_dp_queue_disabled\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_dp_queue_disabled\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_dp_queue_disabled\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-2m
          metricsEntity: documentpipelines
          componentType: OTAC_DOCUMENT_PIPELINES
        annotations:
          componentType: OTAC_DOCUMENT_PIPELINES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_dp_queue_disabled',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_dp_queue_disabled',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "DocTool \"{{ reReplaceAll \"^[^>]+ > (.*)$\" \"$1\" $labels.componentName }}\" is Disabled"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_dp_queue_disabled',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_dp_queue_disabled',severity='error'})\" | first | value) -}}DocTool \"{{ $labels.componentName }}\" is disabled,{{ if $forSeconds }} for more than {{ $forSeconds | humanizeDuration }}{{ end }}."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='documentpipelines',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_dp_queue_failed
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 3) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_dp_queue_failed\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 3) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_dp_queue_failed\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_dp_queue_failed\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: otac_dp_queue_failed
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 3) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_dp_queue_failed\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 3) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_dp_queue_failed\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_dp_queue_failed\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_dp_queue_failed\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_dp_queue_failed\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_dp_queue_failed\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-2m
          metricsEntity: documentpipelines
          componentType: OTAC_DOCUMENT_PIPELINES
        annotations:
          componentType: OTAC_DOCUMENT_PIPELINES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_dp_queue_failed',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_dp_queue_failed',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "DocTool \"{{ reReplaceAll \"^[^>]+ > (.*)$\" \"$1\" $labels.componentName }}\" has Failed to Load"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_dp_queue_failed',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_dp_queue_failed',severity='warning'})\" | first | value) -}}DocTool \"{{ $labels.componentName }}\" has failed to load, please check if any required dependency is missing."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='documentpipelines',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_dp_queue_failed
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 3) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_dp_queue_failed\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 3) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_dp_queue_failed\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_dp_queue_failed\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: otac_dp_queue_failed
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 3) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_dp_queue_failed\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 3) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_dp_queue_failed\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_dp_queue_failed\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_dp_queue_failed\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_dp_queue_failed\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_dp_queue_failed\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-2m
          metricsEntity: documentpipelines
          componentType: OTAC_DOCUMENT_PIPELINES
        annotations:
          componentType: OTAC_DOCUMENT_PIPELINES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_dp_queue_failed',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_dp_queue_failed',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "DocTool \"{{ reReplaceAll \"^[^>]+ > (.*)$\" \"$1\" $labels.componentName }}\" has Failed to Load"
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_dp_queue_failed',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_dp_queue_failed',severity='error'})\" | first | value) -}}DocTool \"{{ $labels.componentName }}\" has failed to load, please check if any required dependency is missing."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='documentpipelines',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_dp_queue_unknown
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_dp_queue_unknown\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_dp_queue_unknown\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_dp_queue_unknown\",severity=\"warning\"}))"
        labels:
          severity: warning
        annotations: {}
      - alert: otac_dp_queue_unknown
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_dp_queue_unknown\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_dp_queue_unknown\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_dp_queue_unknown\",severity=\"warning\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_dp_queue_unknown\",severity=\"warning\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_dp_queue_unknown\",severity=\"warning\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_dp_queue_unknown\",severity=\"warning\"}))"
        labels:
          severity: warning
          ruleGroup: fuse-alerts-2m
          metricsEntity: documentpipelines
          componentType: OTAC_DOCUMENT_PIPELINES
        annotations:
          componentType: OTAC_DOCUMENT_PIPELINES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_dp_queue_unknown',severity='warning'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_dp_queue_unknown',severity='warning'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Unknown DocTool \"{{ reReplaceAll \"^[^>]+ > (.*)$\" \"$1\" $labels.componentName }}\""
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_dp_queue_unknown',severity='warning'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_dp_queue_unknown',severity='warning'})\" | first | value) -}}Unknown DocTool \"{{ $labels.componentName }}\", please check if this DocTool is properly registered and initialized."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='documentpipelines',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
      - alert: __otac_dp_queue_unknown
        expr: "((sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_dp_queue_unknown\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_dp_queue_unknown\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_dp_queue_unknown\",severity=\"error\"}))"
        labels:
          severity: error
        annotations: {}
      - alert: otac_dp_queue_unknown
        expr: "(((sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 0) unless ignoring (metricsEntity) (\n  max by (systemId, envId, componentId, componentName, componentClass) (fuse_alert_dismiss{alertname=\"otac_dp_queue_unknown\"})\n  or (\n    (sum by (systemId, envId, componentId, componentName, componentClass) (otac_dp_queue_status) == 0) * 0 + \n    ignoring (metricsEntity, systemId) group_left max by (envId, componentId, componentName, componentClass) \n    (fuse_alert_dismiss{alertname=\"otac_dp_queue_unknown\",systemId=\"\"})\n  )\n)) >= scalar(min(fuse_alert_threshold{alertname=\"otac_dp_queue_unknown\",severity=\"error\"}))) and (                        (((\n    (max by(systemId, envId) (otcs_heartbeat_last_time) unless on (systemId) min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) < min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"})) or\n    (max by(systemId, envId) (otcs_heartbeat_last_time) * 0 + on(systemId) group_left min by(systemId, envId) (fuse_maintenance_window_start_time{systemId!=\"\"}))\n)\n- on(systemId, envId) group_right min without (alertname, severity) (ALERTS_FOR_STATE{alertname=\"__otac_dp_queue_unknown\",severity=\"error\"})) >= scalar(min(fuse_alert_for{alertname=\"otac_dp_queue_unknown\",severity=\"error\"}))) and\n                        min without (alertname, severity, alertstate) (ALERTS{alertname=\"__otac_dp_queue_unknown\",severity=\"error\"}))"
        labels:
          severity: error
          ruleGroup: fuse-alerts-2m
          metricsEntity: documentpipelines
          componentType: OTAC_DOCUMENT_PIPELINES
        annotations:
          componentType: OTAC_DOCUMENT_PIPELINES
          below: "false"
          units: BOOLEAN
          threshold: "{{ query \"min(fuse_alert_threshold{alertname='otac_dp_queue_unknown',severity='error'})\" | first | value }}"
          forSeconds: "{{ query \"min(fuse_alert_for{alertname='otac_dp_queue_unknown',severity='error'})\" | first | value }}"
          observedValue: "{{ $value }}"
          title: "Unknown DocTool \"{{ reReplaceAll \"^[^>]+ > (.*)$\" \"$1\" $labels.componentName }}\""
          summary: "{{- $threshold := (query \"min(fuse_alert_threshold{alertname='otac_dp_queue_unknown',severity='error'})\" | first | value) -}}{{- $forSeconds := (query \"min(fuse_alert_for{alertname='otac_dp_queue_unknown',severity='error'})\" | first | value) -}}Unknown DocTool \"{{ $labels.componentName }}\", please check if this DocTool is properly registered and initialized."
          fromStale: "{{ printf \"max(fuse_stale_metric{componentName='documentpipelines',envId='%s',systemId='%s'}) OR vector(0)\" .Labels.envId .Labels.systemId | query | first | value }}"
